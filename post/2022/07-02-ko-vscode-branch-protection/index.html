<!DOCTYPE html>
<html lang="ko">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="../../../favicon.ico" />
		<meta name="viewport" content="width=device-width" />
		
		<link href="../../../_app/immutable/assets/0.2925157e.css" rel="stylesheet">
		<link rel="modulepreload" href="../../../_app/immutable/entry/start.c31332b9.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/scheduler.6402f0dd.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/singletons.29a31272.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/index.1b92e39a.js">
		<link rel="modulepreload" href="../../../_app/immutable/entry/app.70d92568.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/index.0cc09f3a.js">
		<link rel="modulepreload" href="../../../_app/immutable/nodes/0.1d039802.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/index.a82faf3f.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/GithubMark.5170f17a.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/store.be990f37.js">
		<link rel="modulepreload" href="../../../_app/immutable/nodes/5.ade4c801.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/each.e59479a4.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/Category.59a1a78b.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/MainSection.36a7ff61.js"><title>Visual Studio Code Branch Protection : dlguswo333&#39;s blog</title><!-- HEAD_svelte-etxm8u_START --><!-- HEAD_svelte-etxm8u_END -->
		<!-- [TODO] For portability I can erase the following elements and inject them from index.ts when building? -->
		<title>dlguswo333's Blog</title>
		<meta name="google-site-verification" content="GIhlBkE7qu5AWLVmQ4w2lBcxEw-AumQhdQf_2zR2X4s" />
	</head>
	<body data-sveltekit-preload-data="hover">
		<script>
			const systemTheme= window.matchMedia('(prefers-color-scheme:dark)').matches ? 'dark' : 'light';
			const rootElement = document.querySelector('body');
			try {
				const storedValue = JSON.parse(localStorage.getItem('color-theme') || 'null');
				const currentTheme = storedValue === 'light' || storedValue === 'dark' ? storedValue : systemTheme;
				if(rootElement) {
  				rootElement.classList.add(currentTheme);
				}
			} catch {
				rootElement.classList.add(systemTheme);
			}
		</script>
		<div id="root">  <header class="z-10 p-2 sticky top-0 flex flex-row items-center justify-between border-b border-b-gray-300 bg-gray-50 dark:bg-[#2c3039] dark:border-b-gray-700"><div class="flex flex-row items-center gap-1"> <a href="/" class="inline-block h-8 w-8" data-svelte-h="svelte-htzscq"><span class="hidden">Go To Home</span> <img src="/favicon.svg" alt="Logo"></a> <button type="button" title="Toggle color theme" class="group"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" class="h-8 w-8 transition"><rect x="3" y="3" width="94" height="94" stroke-width="6" rx="16" ry="16" class="stroke-gray-600 fill-none"></rect></svg></button> </div> <div class="flex flex-row items-center"><a href="/categories/" class="h-8 flex items-center justify-center mr-2 last:mr-1 px-1 py-0.5 rounded hover:bg-gray-200 dark:hover:bg-slate-600 dark:hover:text-white">Categories</a> <a href="/tags/" class="h-8 flex items-center justify-center mr-2 last:mr-1 px-1 py-0.5 rounded hover:bg-gray-200 dark:hover:bg-slate-600 dark:hover:text-white">Tags</a> <a href="/about/" class="h-8 flex items-center justify-center mr-2 last:mr-1 px-1 py-0.5 rounded hover:bg-gray-200 dark:hover:bg-slate-600 dark:hover:text-white">About</a></div></header>  <div class="flex flex-row flex-grow justify-center p-2 lg:p-0 lg:pr-[300px]"> <aside class="w-[300px] overflow-hidden hidden mt-10 self-start md:!flex md:sticky md:top-14 flex-col justify-center items-center p-3
  "><div class="relative w-full"><ul class="max-h-[80vh] overflow-auto"></ul> </div></aside>  <div class="flex flex-col justify-center min-w-0 my-10 md:my-15"><div class="max-w-[900px] flex flex-col items-center py-6 gap-3"><h1 class="text-4xl font-bold text-center">Visual Studio Code Branch Protection</h1> <span>2022-07-02 (Edited 2022-09-04)</span> <button class="px-2 py-0.5 rounded-lg shadow-md shadow-emerald-50 border-l-slate-100 bg-sky-300 text-white hover:bg-sky-500 dark:shadow-emerald-900 transition">/Programming</button> <div><button class="last:mr-0 bg-green-100 hover:bg-green-400 hover:text-white dark:text-black transition px-2 py-0.5 rounded-xl shadow-md dark:shadow-green-900 my-0.5" style="margin-right: 0.25rem; margin-left: 0.5rem">#vscode</button><button class="last:mr-0 bg-green-100 hover:bg-green-400 hover:text-white dark:text-black transition px-2 py-0.5 rounded-xl shadow-md dark:shadow-green-900 my-0.5" style="margin-right: 0.25rem; margin-left: 0rem">#git</button></div> </div> <hr class="bg-gray-400 my-4">  <main class="max-w-[900px] w-full py-2 post"> <!-- HTML_TAG_START --><p>소스 코드 관리 시스템으로 가장 많이 쓰이는 Git에서는 여러 브랜치를 통해
다른 작업을 구분하면서 동시에 수행할 수 있는데, master나 develop 브랜치와 같이
여러 사람이 작업을 시작하는 베이스 브랜치, 릴리즈의 주가 되는 역할을 하는 브랜치는
일반적으로 바로 커밋을 넣지 않습니다. <!--more--> 다른 브랜치에서 작업을 하고
Pull Request를 넣는 방식으로 작업이 이루어지는데요. 이러한 브랜치들을
Github나 Gitlab에서는 <code>protected branch</code>라 명명하고
이런 브랜치들의 삭제, 수정을 제한하는 기능을 제공하고 있습니다.</p>
<p>그러나 develop 브랜치에서 시작해서 작업을 진행해야 하다 보니, 가끔
다른 브랜치를 따야 함을 잊어버리고 그대로 커밋을 해서 심지어는
PR까지 날려버리는 참사가 발생하곤 합니다.</p>
<p>커밋이나 PR을 날리기 전 다시 한 번 확인하는 습관을 들이는게
쉽지만은 않습니다. 이러한 주요 브랜치들에 대한 커밋과 PR을 막는 방법은
Git Hook 등을 포함한 방법들이 있지만, vscode <a href="https://code.visualstudio.com/updates/v1_68#_git-branch-protection">v1.68 버전</a>에서
Branch Protection 기능이 추가되어 간단하게 커밋을 방지할 수 있습니다.</p>
<p>vscode 설정에 들어가 <code>Git: Branch Protection</code>을 검색합니다.
<code>Add Item</code> 버튼으로 보호하고 싶은 branch 이름을 추가합니다.</p>
<p><img src="/img/2022-07-02-vscode-branch-protection/branch-protection-1.png" alt="branch-protection-1"></p>
<p><code>Git: Branch Protection Prompt</code>에서 <code>alwaysPrompt</code>를 선택한 뒤 (기본 값)
vscode의 Source Control 탭을 통해 커밋을 시도하면 아래와 같은
프롬프트 창이 뜨며 커밋을 방지합니다. 또는 <code>alwaysCommitToNewBranch</code>를 선택하면
브랜치에 커밋을 시도하면 새 브랜치 생성 프롬프트가 뜨며 만들어진 브랜치에
커밋이 완료됩니다.</p>
<p><img src="/img/2022-07-02-vscode-branch-protection/branch-protection-2.png" alt="branch-protection-2"></p>
<p>안타깝게도 vscode 터미널에서 커밋하는 것까지는 방지하지 못합니다.
추후에 업데이트로 vscode 터미널에서도 해당 기능이 동작했으면 좋겠네요.</p>
<p>추가로 <a href="https://code.visualstudio.com/updates/v1_69#_branch-protection-indicators">v1.69 버전</a> 업데이트로 보호되고 있는 브랜치는 이름 옆에 작은 자물쇠 아이콘이 보입니다.</p>
<p><img src="https://code.visualstudio.com/assets/updates/1_69/scm-branch-protection-statusbar.png" alt="v1.69 lock icon"></p><!-- HTML_TAG_END --></main></div></div> <footer class="p-2 py-5 text-sm flex gap-1 flex-col md:flex-row items-center justify-between border-t border-gray-300 bg-gray-50 dark:border-gray-700 dark:bg-[#2c3039]"><div>© 2021~2024 dlguswo333; All rights reserved.</div> <div class="flex items-center"><a class="inline-flex items-center" href="https://github.com/dlguswo333/dlguswo333.github.io"><img class="inline h-4 w-4 mr-1" src="/github-mark.svg" alt="github-mark"></a>
    Built with Sveltekit.</div></footer>  
			
			<script>
				{
					__sveltekit_dggk4z = {
						base: new URL("../../..", location).pathname.slice(0, -1),
						env: {}
					};

					const element = document.currentScript.parentElement;

					const data = [null,{"type":"data","data":{html:"\u003Cp>소스 코드 관리 시스템으로 가장 많이 쓰이는 Git에서는 여러 브랜치를 통해\n다른 작업을 구분하면서 동시에 수행할 수 있는데, master나 develop 브랜치와 같이\n여러 사람이 작업을 시작하는 베이스 브랜치, 릴리즈의 주가 되는 역할을 하는 브랜치는\n일반적으로 바로 커밋을 넣지 않습니다. \u003C!--more--> 다른 브랜치에서 작업을 하고\nPull Request를 넣는 방식으로 작업이 이루어지는데요. 이러한 브랜치들을\nGithub나 Gitlab에서는 \u003Ccode>protected branch\u003C/code>라 명명하고\n이런 브랜치들의 삭제, 수정을 제한하는 기능을 제공하고 있습니다.\u003C/p>\n\u003Cp>그러나 develop 브랜치에서 시작해서 작업을 진행해야 하다 보니, 가끔\n다른 브랜치를 따야 함을 잊어버리고 그대로 커밋을 해서 심지어는\nPR까지 날려버리는 참사가 발생하곤 합니다.\u003C/p>\n\u003Cp>커밋이나 PR을 날리기 전 다시 한 번 확인하는 습관을 들이는게\n쉽지만은 않습니다. 이러한 주요 브랜치들에 대한 커밋과 PR을 막는 방법은\nGit Hook 등을 포함한 방법들이 있지만, vscode \u003Ca href=\"https://code.visualstudio.com/updates/v1_68#_git-branch-protection\">v1.68 버전\u003C/a>에서\nBranch Protection 기능이 추가되어 간단하게 커밋을 방지할 수 있습니다.\u003C/p>\n\u003Cp>vscode 설정에 들어가 \u003Ccode>Git: Branch Protection\u003C/code>을 검색합니다.\n\u003Ccode>Add Item\u003C/code> 버튼으로 보호하고 싶은 branch 이름을 추가합니다.\u003C/p>\n\u003Cp>\u003Cimg src=\"/img/2022-07-02-vscode-branch-protection/branch-protection-1.png\" alt=\"branch-protection-1\">\u003C/p>\n\u003Cp>\u003Ccode>Git: Branch Protection Prompt\u003C/code>에서 \u003Ccode>alwaysPrompt\u003C/code>를 선택한 뒤 (기본 값)\nvscode의 Source Control 탭을 통해 커밋을 시도하면 아래와 같은\n프롬프트 창이 뜨며 커밋을 방지합니다. 또는 \u003Ccode>alwaysCommitToNewBranch\u003C/code>를 선택하면\n브랜치에 커밋을 시도하면 새 브랜치 생성 프롬프트가 뜨며 만들어진 브랜치에\n커밋이 완료됩니다.\u003C/p>\n\u003Cp>\u003Cimg src=\"/img/2022-07-02-vscode-branch-protection/branch-protection-2.png\" alt=\"branch-protection-2\">\u003C/p>\n\u003Cp>안타깝게도 vscode 터미널에서 커밋하는 것까지는 방지하지 못합니다.\n추후에 업데이트로 vscode 터미널에서도 해당 기능이 동작했으면 좋겠네요.\u003C/p>\n\u003Cp>추가로 \u003Ca href=\"https://code.visualstudio.com/updates/v1_69#_branch-protection-indicators\">v1.69 버전\u003C/a> 업데이트로 보호되고 있는 브랜치는 이름 옆에 작은 자물쇠 아이콘이 보입니다.\u003C/p>\n\u003Cp>\u003Cimg src=\"https://code.visualstudio.com/assets/updates/1_69/scm-branch-protection-statusbar.png\" alt=\"v1.69 lock icon\">\u003C/p>",frontmatter:{layout:"post",toc:false,editedDate:"2022-09-04",title:"Visual Studio Code Branch Protection",category:["Programming"],tags:["vscode","git"],author:["이현재"]},date:"2022-07-02",lang:"ko",id:"07-02-ko-vscode-branch-protection",tocData:[],langs:["ko"]},"uses":{"params":["year","slug"]}}];

					Promise.all([
						import("../../../_app/immutable/entry/start.c31332b9.js"),
						import("../../../_app/immutable/entry/app.70d92568.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 5],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
