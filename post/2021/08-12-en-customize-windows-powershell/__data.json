{"type":"data","nodes":[null,{"type":"data","data":[{"html":1,"frontmatter":2,"date":15,"lang":16,"id":17,"tocData":18,"langs":42},"\u003Ch1 id=\"1-1.-Introduction\">1. Introduction\u003C/h1>\n\u003Cp>By default, Windows Powershell does not look great compared to Linux terminals.\nAlso, Git does not play nice with Windows Powershell.\nIt does not provide \u003Ckbd>Tab\u003C/kbd> auto complete features.\u003C/p>\n\u003C!--more-->\n\u003Cp>Therefore users have to manually type all the long Git commands.\nFurthermore, we need to type \u003Ccode>git staus\u003C/code> command everytime we\nneed the current status of a repository, such as the number of\nmodified files or the current working branch name.\n\u003Cbr>\u003C/p>\n\u003Cp>However, we can add modules to Powershell in order to have\nauto complete Git commands feature and nice looking terminals.\nI will discuss about adding the modules and customizing\nPowershell from now on. The following instructions\nwill describe how and what I applied to suit my needs.\nYou can pick what you want to apply to your Powershell.\n\u003Cbr>\u003C/p>\n\u003Cp>\u003Cimg src=\"/img/2021-08-12-cutsomize-windows-powershell/powershell-example.webp\" alt=\"powershell-example.webp\">\n\u003Cbr>\u003C/p>\n\u003Ch1 id=\"2-2.-Instructions\">2. Instructions\u003C/h1>\n\u003Ch2 id=\"3-1.-Prerequisites\">1. Prerequisites\u003C/h2>\n\u003Cul>\n\u003Cli>Git\u003C/li>\n\u003Cli>A Powerline support font\u003C/li>\n\u003C/ul>\n\u003Cp>A powerline font needs to be installed since powerline uses its specific fonts,\nwhich appear to be colored separator arrows between segements.\nWithout one, terminals will have broken squares all over the prompts like below.\n\u003Cbr>\u003C/p>\n\u003Cp>\u003Cimg src=\"/img/2021-08-12-cutsomize-windows-powershell/powershell-broken.png\" alt=\"powershell-broken.png\">\n\u003Cbr>\u003C/p>\n\u003Cp>Also, According to oh-my-posh \u003Ca href=\"https://ohmyposh.dev/docs/fonts\">documentation\u003C/a>,\nit was designed to use \u003Ccode>Nerd fonts\u003C/code> which contain extensive glyphs\nwhich are not included in non-Nerd fonts (standard fonts) like the image below.\nInstall one otherwise you would see crashed square fonts.\nHowever you can use minimal themes if you do not want to install Nerd fonts.\nI will explain it later in this post.\u003C/p>\n\u003Cp>\u003Cimg src=\"/img/2021-08-12-cutsomize-windows-powershell/glyphs.png\" alt=\"glyphs.png\">\n\u003Cbr>\u003C/p>\n\u003Ch2 id=\"4-2.-Install-Modules\">2. Install Modules\u003C/h2>\n\u003Cp>Execute Powershell, and type the following command.\n\u003Cbr>\u003C/p>\n\u003Cpre class=\"language-powershell\">\u003Ccode class=\"language-powershell code-highlight\">\u003Cspan class=\"code-line line-number\" line=\"1\">\u003Cspan class=\"token function\">Install-Module\u003C/span> posh-git \u003Cspan class=\"token operator\">-\u003C/span>Scope CurrentUser\n\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>And to install oh-my-posh, use Window's apt-like package manager \u003Ccode>winget\u003C/code>.\u003C/p>\n\u003Cpre class=\"language-shell\">\u003Ccode class=\"language-shell code-highlight\">\u003Cspan class=\"code-line line-number\" line=\"1\">winget \u003Cspan class=\"token function\">install\u003C/span> JanDeDobbeleer.OhMyPosh\n\u003C/span>\u003C/code>\u003C/pre>\n\u003Cblockquote>\n\u003Cp>Or go to their \u003Ca href=\"https://ohmyposh.dev/docs/installation/windows\">webpage\u003C/a>\nto see other installation methods.\u003Cbr>\nThey have deprecated installing oh-my-posh with \u003Ccode>Install-Module\u003C/code> Powershell command\nas with the Powershell \u003Cem>wrapper\u003C/em> module.\u003C/p>\n\u003C/blockquote>\n\u003Cp>That will install two modules.\u003Cbr>\n\u003Ca href=\"https://github.com/dahlbyk/posh-git\">\u003Cstrong>posh-git\u003C/strong>\u003C/a> is a module which shows\nthe current working branch and status, and provides Git auto complete features.\u003Cbr>\n\u003Ca href=\"https://ohmyposh.dev/\">\u003Cstrong>oh-my-posh\u003C/strong>\u003C/a> provides powerline theme features on Powershell prompts.\n\u003Cbr>\u003C/p>\n\u003Ch2 id=\"5-3.-Edit-Powershell-Profile\">3. Edit Powershell Profile\u003C/h2>\n\u003Cp>Installing modules does not load the modules automatically.\u003Cbr>\nTherefore we need to edit the profile file of Powershell which is executed\nwhen Powershell starts to run.\u003Cbr>\nThe profile file can be accessed via an environment variable \u003Ccode>$PROFILE\u003C/code> within Powershell.\n\u003Cbr>\u003C/p>\n\u003Cpre class=\"language-powershell\">\u003Ccode class=\"language-powershell code-highlight\">\u003Cspan class=\"code-line line-number\" line=\"1\">notepad \u003Cspan class=\"token variable\">$PROFILE\u003C/span>\n\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>The above command opens the file in notepad.\u003Cbr>\nInside the editor, we need to import the modules.\n\u003Cbr>\u003C/p>\n\u003Cpre class=\"language-powershell\">\u003Ccode class=\"language-powershell code-highlight\">\u003Cspan class=\"code-line line-number\" line=\"1\">\u003Cspan class=\"token function\">Import-Module\u003C/span> posh-git\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"2\">\u003Cspan class=\"token function\">Import-Module\u003C/span> oh-my-posh\n\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>You can pick a theme from the theme list and load it with \u003Ccode>Set-PoshPrompt\u003C/code> command.\nExecute the following command to get the list of themes installed on your machine:\u003C/p>\n\u003Cpre class=\"language-powershell\">\u003Ccode class=\"language-powershell code-highlight\">\u003Cspan class=\"code-line line-number\" line=\"1\">\u003Cspan class=\"token function\">Get-PoshThemes\u003C/span>\n\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>If you do not want to install \u003Ccode>Nerd fonts\u003C/code>,\nyou may use themes with \u003Ccode>minimal\u003C/code> suffix\nsince minimal themes do not need nerd glyphs.\n\u003Cbr>\u003C/p>\n\u003Cp>Also, if you have a problem with readability due to colors such as\nGrey colored tokens are hard to read on black background, you can\nset the color of specific tokens with \u003Ccode>Set-PSReadLineOption\u003C/code> command.\u003Cbr>\nThe below shows my \u003Ccode>$PROFILE\u003C/code> configurations.\n\u003Cbr>\u003C/p>\n\u003Cp>{% highlight powershell linenos %}\nImport-Module posh-git\nImport-Module oh-my-posh\nSet-PoshPrompt -Theme hotstick.minimal\nSet-PSReadlineOption -Colors @{operator = \"Red\"}\nSet-PSReadlineOption -Colors @{type = \"Red\"}\nSet-PSReadLineOption -Colors @{Parameter = \"Red\"}\n{% endhighlight %}\u003C/p>\n\u003Ch2 id=\"6-4.-⚠️-Powershell-Module-Deprecated!\">4. ⚠️ Powershell Module Deprecated!\u003C/h2>\n\u003Cp>\u003Cstrong>oh-my-posh\u003C/strong> Powershell module has been deprecated as of 05/21/2022!\u003Cbr>\nBut don't worry, the deprecation is not about the whole application,\nbut the Powershell module.\u003C/p>\n\u003Cp>They say the Powershell module is just a wrapper around an executable,\nand we can migrate to another installation method following their instructions.\n\u003Ca href=\"https://ohmyposh.dev/docs/migrating\">link\u003C/a>\u003C/p>\n\u003Cp>Put simply, if you have installed oh-my-posh using \u003Ccode>Install-Module\u003C/code> command\nas I had stated above, then\u003C/p>\n\u003Col>\n\u003Cli>uninstall the module,\u003C/li>\n\u003Cli>delete \u003Ccode>Import-Module oh-my-posh\u003C/code> line from your \u003Ccode>$PROFILE\u003C/code>,\u003C/li>\n\u003Cli>Install \u003Ccode>oh-my-posh\u003C/code> in different way, such as \u003Ccode>winget\u003C/code>,\u003C/li>\n\u003Cli>And call \u003Ccode>oh-my-posh\u003C/code> command from your \u003Ccode>$PROFILE\u003C/code> to set posh prompt if you need.\u003Cbr>\nI use\u003Cbr>\n\u003Ccode>oh-my-posh init pwsh --config \"$env:POSH_THEMES_PATH\\hotstick.minimal.omp.json\" | Invoke-Expression\u003C/code>\u003Cbr>\nto decorate as \u003Ccode>hotstick.minimal\u003C/code> theme.\u003C/li>\n\u003C/ol>\n\u003Ch1 id=\"7-3.-References\">3. References\u003C/h1>\n\u003Col>\n\u003Cli>\u003Ca href=\"https://docs.microsoft.com/en-us/windows/terminal/tutorials/powerline-setup#set-up-powerline-in-wsl-ubuntu\">https://docs.microsoft.com/en-us/windows/terminal/tutorials/powerline-setup#set-up-powerline-in-wsl-ubuntu\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://ohmyposh.dev/\">https://ohmyposh.dev/\u003C/a>\u003C/li>\n\u003C/ol>",{"layout":3,"toc":4,"editedDate":5,"title":6,"category":7,"tags":9,"author":13},"post",true,"2022-06-18","Customize Windows Powershell",[8],"Programming",[10,11,12],"Windows","Powershell","Git",[14],"이현재","2021-08-12","en","08-12-en-customize-windows-powershell",[19,23,26,30,33,36,39],{"depth":20,"id":21,"text":22},1,"1-1.-Introduction","1. Introduction",{"depth":20,"id":24,"text":25},"2-2.-Instructions","2. Instructions",{"depth":27,"id":28,"text":29},2,"3-1.-Prerequisites","1. Prerequisites",{"depth":27,"id":31,"text":32},"4-2.-Install-Modules","2. Install Modules",{"depth":27,"id":34,"text":35},"5-3.-Edit-Powershell-Profile","3. Edit Powershell Profile",{"depth":27,"id":37,"text":38},"6-4.-⚠️-Powershell-Module-Deprecated!","4. ⚠️ Powershell Module Deprecated!",{"depth":20,"id":40,"text":41},"7-3.-References","3. References",[16]],"uses":{"params":["year","slug"]}}]}
