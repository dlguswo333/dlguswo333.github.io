<!DOCTYPE html>
<html lang="ko">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="../../../favicon.ico" />
		<meta name="viewport" content="width=device-width" />
		
		<link href="../../../_app/immutable/assets/0.fcd7d0f0.css" rel="stylesheet">
		<link rel="modulepreload" href="../../../_app/immutable/entry/start.7b02dd09.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/scheduler.6402f0dd.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/singletons.15171e31.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/index.1b92e39a.js">
		<link rel="modulepreload" href="../../../_app/immutable/entry/app.beba005d.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/index.0cc09f3a.js">
		<link rel="modulepreload" href="../../../_app/immutable/nodes/0.4aa59b97.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/index.a82faf3f.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/GithubMark.5170f17a.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/store.be990f37.js">
		<link rel="modulepreload" href="../../../_app/immutable/nodes/5.e38b54f4.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/each.e59479a4.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/Category.a9d34eee.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/MainSection.4262151e.js"><title>useAbortController í›… : dlguswo333&#39;s blog</title><!-- HEAD_svelte-etxm8u_START --><!-- HEAD_svelte-etxm8u_END -->
		<!-- [TODO] For portability I can erase the following elements and inject them from index.ts when building? -->
		<title>dlguswo333's Blog</title>
		<meta name="google-site-verification" content="GIhlBkE7qu5AWLVmQ4w2lBcxEw-AumQhdQf_2zR2X4s" />
	</head>
	<body data-sveltekit-preload-data="hover">
		<script>
			const systemTheme= window.matchMedia('(prefers-color-scheme:dark)').matches ? 'dark' : 'light';
			const rootElement = document.querySelector('body');
			try {
				const storedValue = JSON.parse(localStorage.getItem('color-theme') || 'null');
				const currentTheme = storedValue === 'light' || storedValue === 'dark' ? storedValue : systemTheme;
				if(rootElement) {
  				rootElement.classList.add(currentTheme);
				}
			} catch {
				rootElement.classList.add(systemTheme);
			}
		</script>
		<div id="root">  <header class="z-10 p-2 sticky top-0 flex flex-row items-center justify-between border-b border-b-gray-300 bg-gray-50 dark:bg-[#2c3039] dark:border-b-gray-700"><div class="flex flex-row items-center gap-1"> <a href="/" class="inline-block h-8 w-8" data-svelte-h="svelte-htzscq"><span class="hidden">Go To Home</span> <img src="/favicon.svg" alt="Logo"></a> <button type="button" title="Toggle color theme" class="group"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" class="h-8 w-8 transition"><rect x="3" y="3" width="94" height="94" stroke-width="6" rx="16" ry="16" class="stroke-gray-600 fill-none"></rect></svg></button> </div> <div class="flex flex-row items-center"><a href="/categories/" class="h-8 flex items-center justify-center mr-2 last:mr-1 px-1 py-0.5 rounded hover:bg-gray-200 dark:hover:bg-slate-600 dark:hover:text-white">Categories</a> <a href="/tags/" class="h-8 flex items-center justify-center mr-2 last:mr-1 px-1 py-0.5 rounded hover:bg-gray-200 dark:hover:bg-slate-600 dark:hover:text-white">Tags</a> <a href="/about/" class="h-8 flex items-center justify-center mr-2 last:mr-1 px-1 py-0.5 rounded hover:bg-gray-200 dark:hover:bg-slate-600 dark:hover:text-white">About</a></div></header>  <div class="flex flex-row flex-grow justify-center p-2 lg:p-0 lg:pr-[300px]"> <aside class="w-[300px] overflow-hidden hidden mt-10 self-start md:!flex md:sticky md:top-14 flex-col justify-center items-center p-3
  "><div class="relative w-full"><ul class="max-h-[80vh] overflow-auto"> <li title="useEffect ë‚´ AbortController" class="flex border-l-4 border-transparent hover:border-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 font-bold 
        "><a href="#1-useEffect-ë‚´-AbortController" class="relative z-10 py-0.5 whitespace-nowrap overflow-hidden break-all overflow-ellipsis flex-grow" style="padding-left: 0.3rem;">useEffect ë‚´ AbortController</a> </li> <li title="AbortController ì»¤ìŠ¤í…€ í›…ìœ¼ë¡œ ë§Œë“¤ê¸°" class="flex border-l-4 border-transparent hover:border-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 font-bold 
        "><a href="#2-AbortController-ì»¤ìŠ¤í…€-í›…ìœ¼ë¡œ-ë§Œë“¤ê¸°" class="relative z-10 py-0.5 whitespace-nowrap overflow-hidden break-all overflow-ellipsis flex-grow" style="padding-left: 0.3rem;">AbortController ì»¤ìŠ¤í…€ í›…ìœ¼ë¡œ ë§Œë“¤ê¸°</a> </li> <li title="ë” ê³ ë„í™”ëœ AbortController ì»¤ìŠ¤í…€ í›… ë§Œë“¤ê¸°" class="flex border-l-4 border-transparent hover:border-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 font-bold 
        "><a href="#3-ë”-ê³ ë„í™”ëœ-AbortController-ì»¤ìŠ¤í…€-í›…-ë§Œë“¤ê¸°" class="relative z-10 py-0.5 whitespace-nowrap overflow-hidden break-all overflow-ellipsis flex-grow" style="padding-left: 0.3rem;">ë” ê³ ë„í™”ëœ AbortController ì»¤ìŠ¤í…€ í›… ë§Œë“¤ê¸°</a> </li> <li title="ì½œë°±ê³¼ Abort í•¨ìˆ˜ë¥¼ ë¦¬í„´í•˜ê¸°" class="flex border-l-4 border-transparent hover:border-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700  
        "><a href="#4-ì½œë°±ê³¼-Abort-í•¨ìˆ˜ë¥¼-ë¦¬í„´í•˜ê¸°" class="relative z-10 py-0.5 whitespace-nowrap overflow-hidden break-all overflow-ellipsis flex-grow" style="padding-left: 0.9666666666666666rem;">ì½œë°±ê³¼ Abort í•¨ìˆ˜ë¥¼ ë¦¬í„´í•˜ê¸°</a> </li> <li title="useRefë¡œ AbortController ê´€ë¦¬í•˜ê¸°" class="flex border-l-4 border-transparent hover:border-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700  
        "><a href="#5-useRefë¡œ-AbortController-ê´€ë¦¬í•˜ê¸°" class="relative z-10 py-0.5 whitespace-nowrap overflow-hidden break-all overflow-ellipsis flex-grow" style="padding-left: 0.9666666666666666rem;">useRefë¡œ AbortController ê´€ë¦¬í•˜ê¸°</a> </li> <li title="AbortControllerë¥¼ ì½œë°±ì˜ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬í•˜ê¸°" class="flex border-l-4 border-transparent hover:border-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 font-bold 
        "><a href="#6-AbortControllerë¥¼-ì½œë°±ì˜-íŒŒë¼ë¯¸í„°ë¡œ-ì „ë‹¬í•˜ê¸°" class="relative z-10 py-0.5 whitespace-nowrap overflow-hidden break-all overflow-ellipsis flex-grow" style="padding-left: 0.3rem;">AbortControllerë¥¼ ì½œë°±ì˜ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬í•˜ê¸°</a> </li> <li title="íŒŒë¼ë¯¸í„°ì˜ ì½œë°±ì— ë‹¤ë¥¸ ì¸ìë„ ì „ë‹¬í•˜ê¸°" class="flex border-l-4 border-transparent hover:border-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700  
        "><a href="#7-íŒŒë¼ë¯¸í„°ì˜-ì½œë°±ì—-ë‹¤ë¥¸-ì¸ìë„-ì „ë‹¬í•˜ê¸°" class="relative z-10 py-0.5 whitespace-nowrap overflow-hidden break-all overflow-ellipsis flex-grow" style="padding-left: 0.9666666666666666rem;">íŒŒë¼ë¯¸í„°ì˜ ì½œë°±ì— ë‹¤ë¥¸ ì¸ìë„ ì „ë‹¬í•˜ê¸°</a> </li> <li title="Typescriptë¡œ íƒ€ì´í•‘ í•˜ê¸°" class="flex border-l-4 border-transparent hover:border-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700  
        "><a href="#8-Typescriptë¡œ-íƒ€ì´í•‘-í•˜ê¸°" class="relative z-10 py-0.5 whitespace-nowrap overflow-hidden break-all overflow-ellipsis flex-grow" style="padding-left: 1.6333333333333333rem;">Typescriptë¡œ íƒ€ì´í•‘ í•˜ê¸°</a> </li></ul> </div></aside>  <div class="flex flex-col justify-center min-w-0 my-10 md:my-15"><div class="max-w-[900px] flex flex-col items-center py-6 gap-3"><h1 class="text-4xl font-bold text-center">useAbortController í›…</h1> <span>2023-10-26 </span> <button class="px-2 py-0.5 rounded-lg shadow-md shadow-emerald-50 border-l-slate-100 bg-sky-300 text-white hover:bg-sky-500 dark:shadow-emerald-900 transition">/Programming</button> <div><button class="last:mr-0 bg-green-100 hover:bg-green-400 hover:text-white dark:text-black transition px-2 py-0.5 rounded-xl shadow-md dark:shadow-green-900 my-0.5" style="margin-right: 0.25rem; margin-left: 0.5rem">#web</button><button class="last:mr-0 bg-green-100 hover:bg-green-400 hover:text-white dark:text-black transition px-2 py-0.5 rounded-xl shadow-md dark:shadow-green-900 my-0.5" style="margin-right: 0.25rem; margin-left: 0rem">#react</button><button class="last:mr-0 bg-green-100 hover:bg-green-400 hover:text-white dark:text-black transition px-2 py-0.5 rounded-xl shadow-md dark:shadow-green-900 my-0.5" style="margin-right: 0.25rem; margin-left: 0rem">#javascript</button><button class="last:mr-0 bg-green-100 hover:bg-green-400 hover:text-white dark:text-black transition px-2 py-0.5 rounded-xl shadow-md dark:shadow-green-900 my-0.5" style="margin-right: 0.25rem; margin-left: 0rem">#typescript</button></div> <div>ğŸŒ
            <a class="last:mr-0 my-0.5 transition px-2 py-0.5 rounded-md border-2
    bg-lime-100 dark:text-black dark:shadow-green-900
    border-yellow-300 shadow-inner cursor-default bg-lime-50" href="/post/2023/10-26-ko-useAbortController-hook/" style="margin-right: 0.25rem; margin-left: 0.25rem">ko</a><a class="last:mr-0 my-0.5 transition px-2 py-0.5 rounded-md border-2
    bg-lime-100 dark:text-black dark:shadow-green-900
    shadow-md hover:text-white hover:bg-lime-400" href="/post/2023/10-26-en-useAbortController-hook/" style="margin-right: 0.25rem; margin-left: 0.25rem">en</a></div></div> <hr class="bg-gray-400 my-4">  <main class="max-w-[900px] w-full py-2 post"> <!-- HTML_TAG_START --><p>ë¦¬ì•¡íŠ¸ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë‹¤ ë³´ë©´ fetch ë¦¬í€˜ìŠ¤íŠ¸ë¥¼ ë³´ë‚´ì•¼ í•  ë•Œê°€ ì˜¤ì£ .
ê·¸ëŸ´ ë•ŒëŠ” <code>useEffect</code> ë‚´ì—ì„œ APIë¥¼ í˜¸ì¶œí•˜ë¼ëŠ” ë§ì„ í•˜ê³¤ í•©ë‹ˆë‹¤.
ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê²ƒì€ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ì˜ ìˆ˜ëª… ì£¼ê¸°ì™€ ê¹Šì€ ì—°ê´€ì´ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</p>
<blockquote>
<p><strong>Fetching data with Effects</strong><br>
You can use an Effect to fetch data for your component.
...
Writing data fetching directly in Effects gets repetitive and makes it difficult to add optimizations like caching and server rendering later. Itâ€™s easier to use a custom Hookâ€”either your own or maintained by the community.<br>
<a href="https://react.dev/reference/react/useEffect#fetching-data-with-effects">https://react.dev/reference/react/useEffect#fetching-data-with-effects</a></p>
</blockquote>
<p>ë˜í•œ, ë¦¬í€˜ìŠ¤íŠ¸ë¥¼ ì·¨ì†Œí•˜ê¸° ìœ„í•´ boolean ê°’ ë˜ëŠ” <code>AbortController</code>ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì´ëŠ” ì›ì¹˜ ì•ŠëŠ” <code>race condition</code>ë„ ì˜ˆë°©í•´ì¤„ ìˆ˜ ìˆì£ .</p>
<blockquote>
<p>Note the <code>ignore</code> variable which is initialized to <code>false</code>, and is set to <code>true</code> during cleanup. This ensures your code doesnâ€™t suffer from â€œrace conditionsâ€: network responses may arrive in a different order than you sent them.<br>
<a href="https://react.dev/reference/react/useEffect#fetching-data-with-effects">https://react.dev/reference/react/useEffect#fetching-data-with-effects</a></p>
</blockquote>
<p>boolean ê°’ í•˜ë‚˜ë¡œë„ ì¶©ë¶„í•˜ê¸´ í•˜ì§€ë§Œ
ì§„í–‰ ì¤‘ì¸ fetch ë¦¬í€˜ìŠ¤íŠ¸ë„ ì·¨ì†Œí•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì´ ìˆëŠ”
<code>AbortController</code>ê°€ ë” ë‚˜ì€ ì˜µì…˜ì´ë¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<blockquote>
<p>The abort() method of the AbortController interface aborts a DOM request before it has completed. This is able to abort fetch requests, the consumption of any response bodies, or streams.<br>
<a href="https://developer.mozilla.org/en-US/docs/Web/API/AbortController/abort">https://developer.mozilla.org/en-US/docs/Web/API/AbortController/abort</a></p>
</blockquote>
<p>ì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„  <code>AbortController</code>ë¥¼ ì“°ëŠ” ë²•, ê·¸ë¦¬ê³  ë¦¬ì•¡íŠ¸ í”„ë¡œì íŠ¸ì—ì„œ ê³µí†µ ë¡œì§ê³¼ ì½”ë“œë¥¼ í›…ìœ¼ë¡œ
ë¶„ë¦¬í•´ ì¬í™œìš©í•˜ëŠ” ì—¬ëŸ¬ ê°€ì§€ ë°©ë²•ì„ ì†Œê°œí•©ë‹ˆë‹¤.</p>
<h1 id="1-useEffect-ë‚´-AbortController">useEffect ë‚´ AbortController</h1>
<p>ë‹¤ìŒ ì½”ë“œëŠ” fetch ë¦¬í€˜ìŠ¤íŠ¸ë¥¼ <code>AbortController</code>ì™€ í•¨ê»˜ <code>useEffect</code> ë‚´ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì˜ˆì‹œì…ë‹ˆë‹¤.</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line line-number" line="1"><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">  <span class="token keyword">const</span> controller <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AbortController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="3">  <span class="token keyword">const</span> <span class="token function-variable function">search</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="4">    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword control-flow">await</span> axios<span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">'/search'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="5">      <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span>keyword<span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="6">      <span class="token literal-property property">signal</span><span class="token operator">:</span> controller<span class="token punctuation">.</span><span class="token property-access">signal</span>
</span><span class="code-line line-number" line="7">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="8">    <span class="token function">setSearchResult</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="9">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="10">  <span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="11">
</span><span class="code-line line-number" line="12">  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="13">    controller<span class="token punctuation">.</span><span class="token method function property-access">abort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="14">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="15"><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>keyword<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre>
<p>ì´ í¬ìŠ¤íŠ¸ì—ì„  <code>axios</code>ë¥¼ ì‚¬ìš©í•´ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.
<code>axios</code>ëŠ” <code>AbortController.signal</code>ì„ ë‘ë²ˆì§¸ íŒŒë¼ë¯¸í„° ì˜¤ë¸Œì íŠ¸ì˜ <code>signal</code> ì†ì„±ìœ¼ë¡œ ê±´ë„¤ ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.
ìì„¸í•œ ë‚´ìš©ì€ <a href="https://axios-http.com/docs/cancellation"><code>axios</code> ë¬¸ì„œ</a>ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.</p>
<p><code>keyword</code> stateê°€ ë°”ë€” ë•Œë§ˆë‹¤, cleanup í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ë©´ì„œ
ì§„í–‰ ì¤‘ì¸ fetch ë¦¬í€˜ìŠ¤íŠ¸ë¥¼ ì·¨ì†Œí•˜ê³  ì—ëŸ¬ë¥¼ ë˜ì§‘ë‹ˆë‹¤.
ì´ ì—ëŸ¬ì— ì˜í•´ ì•„ë˜ ì¤„ì˜ <code>setSearchResult(result)</code>ê°€ ì‹¤í–‰ ë˜ì§€ ì•Šê³  ìŠ¤í‚µë˜ëŠ” ê²ƒì…ë‹ˆë‹¤.
ë˜í•œ ì·¨ì†Œ ì‹œ ë°œìƒí•˜ëŠ” <code>AbortError</code>ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´, ë˜ëŠ” ì˜ë„ì¹˜ ì•Šì€ ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬ ë“±ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ì„œë¼ë„
try catchë¡œ ê°ì‹¸ëŠ” ê²ƒì´ ë°”ëŒì§í•©ë‹ˆë‹¤.</p>
<blockquote>
<p>When abort() is called, the fetch() promise rejects with a <code>DOMException</code> named <code>AbortError</code>.<br>
<a href="https://developer.mozilla.org/en-US/docs/Web/API/AbortController">https://developer.mozilla.org/en-US/docs/Web/API/AbortController</a></p>
</blockquote>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line line-number" line="1"><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">  <span class="token keyword">const</span> controller <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AbortController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="3">  <span class="token keyword">const</span> <span class="token function-variable function">search</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="4">    <span class="token keyword control-flow">try</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="5">      <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword control-flow">await</span> axios<span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">'/search'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="6">        <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span>keyword<span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="7">        <span class="token literal-property property">signal</span><span class="token operator">:</span> controller<span class="token punctuation">.</span><span class="token property-access">signal</span>
</span><span class="code-line line-number" line="8">      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="9">      <span class="token function">setSearchResult</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="10">    <span class="token punctuation">}</span> <span class="token keyword control-flow">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="11">      <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>e <span class="token keyword">instanceof</span> <span class="token class-name">Error</span> <span class="token operator">&#x26;&#x26;</span> e<span class="token punctuation">.</span><span class="token property-access">name</span> <span class="token operator">===</span> <span class="token string">'AbortError'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="12">        <span class="token comment">// Handle AbortError</span>
</span><span class="code-line line-number" line="13">      <span class="token punctuation">}</span> <span class="token keyword control-flow">else</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="14">        <span class="token comment">// Handle other errors</span>
</span><span class="code-line line-number" line="15">      <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="16">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="17">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="18">  <span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="19">
</span><span class="code-line line-number" line="20">  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="21">    controller<span class="token punctuation">.</span><span class="token method function property-access">abort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="22">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="23"><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>keyword<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre>
<h1 id="2-AbortController-ì»¤ìŠ¤í…€-í›…ìœ¼ë¡œ-ë§Œë“¤ê¸°">AbortController ì»¤ìŠ¤í…€ í›…ìœ¼ë¡œ ë§Œë“¤ê¸°</h1>
<p>ë§Œì•½ ì½”ë“œë¥¼ ì»¤ìŠ¤í…€ í›…ìœ¼ë¡œ ì¬í™œìš©í•˜ê³  ì‹¶ë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ê°€ëŠ¥í•˜ê² ì£ .</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">const</span> useAbortController <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> params<span class="token punctuation">,</span> onFetchComplete<span class="token punctuation">,</span> onError</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">    <span class="token keyword">const</span> controller <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AbortController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="4">    <span class="token keyword">const</span> <span class="token function-variable function">search</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="5">      <span class="token keyword control-flow">try</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="6">        <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword control-flow">await</span> axios<span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="7">          params<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="8">          <span class="token literal-property property">signal</span><span class="token operator">:</span> controller<span class="token punctuation">.</span><span class="token property-access">signal</span>
</span><span class="code-line line-number" line="9">        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="10">        <span class="token function">onFetchComplete</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="11">      <span class="token punctuation">}</span> <span class="token keyword control-flow">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="12">        <span class="token function">onError</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="13">      <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="14">    <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="15">    <span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="16">
</span><span class="code-line line-number" line="17">    <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="18">      controller<span class="token punctuation">.</span><span class="token method function property-access">abort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="19">    <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="20">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="21"><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>url<span class="token punctuation">,</span> params<span class="token punctuation">,</span> onFetchComplete<span class="token punctuation">,</span> onError<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre>
<p>ì´ í›…ì€ ì´ë ‡ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line line-number" line="1"><span class="token function">useAbortController</span><span class="token punctuation">(</span><span class="token string">'/search'</span><span class="token punctuation">,</span> params<span class="token punctuation">,</span> setSearchResult<span class="token punctuation">,</span> onError<span class="token punctuation">)</span>
</span></code></pre>
<p>í•˜ì§€ë§Œ ê° argumentì˜ stabilityë¥¼ ë³´ì¥í•´ì•¼ í•©ë‹ˆë‹¤.
ë§Œì•½ ë¦¬ë Œë”ë§ ë•Œë§ˆë‹¤ ê° argumentê°€ ì¬ìƒì„±ë˜ì–´ ë¦¬ì•¡íŠ¸ê°€ <strong>ë³€ê²½</strong> ë˜ì—ˆë‹¤ê³  íŒë‹¨ ì‹œ
ë§¤ë²ˆ <code>useEffect</code>ê°€ ì‹¤í–‰ ë˜ë¯€ë¡œ ë¶ˆí•„ìš”í•œ ë¦¬í€˜ìŠ¤íŠ¸, ìµœì•…ì˜ ê²½ìš° ë¬´í•œ ë¦¬ë Œë”ë§ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p>ë˜í•œ ì´ í›…ì€ <code>search</code>ì™€ <code>abort</code> ì½œë°±ì„ í•„ìš”í•  ë•Œ ë¶€ë¥¼ ìˆ˜ ì—†ë‹¤ëŠ” ë‹¨ì ì´ ìˆìŠµë‹ˆë‹¤.
ì‹œì‘/ì·¨ì†Œ ë²„íŠ¼ì„ í´ë¦­í•  ë•Œì™€ ê°™ì´ ì½œë°±ì„ í•„ìš”í•  ë•Œ ë¶€ë¥¼ ê²½ìš°ê°€ ìˆì„í…ë°ìš”,
í•´ë‹¹ í›…ì€ ì½œë°±ì„ <code>useEffect</code>ì— ê°ì‹¸ê³  ì™¸ë¶€ì— ë…¸ì¶œí•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì›í•  ë•Œ ë¶€ë¥´ëŠ” ê²ƒì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.</p>
<h1 id="3-ë”-ê³ ë„í™”ëœ-AbortController-ì»¤ìŠ¤í…€-í›…-ë§Œë“¤ê¸°">ë” ê³ ë„í™”ëœ AbortController ì»¤ìŠ¤í…€ í›… ë§Œë“¤ê¸°</h1>
<h2 id="4-ì½œë°±ê³¼-Abort-í•¨ìˆ˜ë¥¼-ë¦¬í„´í•˜ê¸°">ì½œë°±ê³¼ Abort í•¨ìˆ˜ë¥¼ ë¦¬í„´í•˜ê¸°</h2>
<p>ë”°ë¼ì„œ ì»¤ìŠ¤í…€ í›…ì´ ë‚´ë¶€ì ìœ¼ë¡œ fetch ë¦¬í€˜ìŠ¤íŠ¸ë¥¼ ì•Œì•„ì„œ ë¶€ë¥´ê¸° ë³´ë‹¤ëŠ”,
ë¦¬í€˜ìŠ¤íŠ¸ë¥¼ <code>AbortController</code>ì™€ í•¨ê»˜ ë™ì‘í•˜ë„ë¡ ê³ ë„í™” í•œ í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´
abort í•¨ìˆ˜ì™€ í•¨ê»˜ í˜¸ì¶œ ì»´í¬ë„ŒíŠ¸ì—ê²Œ ì „ë‹¬í•´ ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.</p>
<pre class="language-jsx"><code class="language-jsx code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">const</span> <span class="token punctuation">[</span>search<span class="token punctuation">,</span> abortSearch<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useAbortController</span><span class="token punctuation">(</span>
</span><span class="code-line line-number" line="2">  url<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="3">  params<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="4">  setSearchResult<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="5">  onError<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="6"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="7">
</span><span class="code-line line-number" line="8"><span class="token comment">// Use it like this:</span>
</span><span class="code-line line-number" line="9"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>search<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">Search</span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>button</span><span class="token punctuation">></span></span>
</span><span class="code-line line-number" line="10"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>abortSearch<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">Abort Search</span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>button</span><span class="token punctuation">></span></span>
</span></code></pre>
<p>ìš°ë¦¬ê°€ ë§Œë“¤ í›…ì€ ë¦¬ì•¡íŠ¸ì˜ <code>useCallback</code>ì„ ì‚¬ìš©í•´ ë‘ ì½œë°±ì„ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤.
ë˜í•œ ë™ì¼ <code>AbortController</code> ì¸ìŠ¤í„´ìŠ¤ë¥¼ <code>useState</code>ë¥¼ ì‚¬ìš©í•´ ë‘ ì½œë°± ê°„ ê³µìœ í•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">const</span> useAbortController <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> params<span class="token punctuation">,</span> onFetchComplete<span class="token punctuation">,</span> onError</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">  <span class="token keyword">const</span> <span class="token punctuation">[</span>controller<span class="token punctuation">,</span> setController<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">AbortController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4">  <span class="token keyword">const</span> request <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="5">    <span class="token keyword control-flow">try</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="6">      <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword control-flow">await</span> axios<span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="7">        params<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="8">        <span class="token literal-property property">signal</span><span class="token operator">:</span> controller<span class="token punctuation">.</span><span class="token property-access">signal</span>
</span><span class="code-line line-number" line="9">      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="10">      <span class="token function">onFetchComplete</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="11">    <span class="token punctuation">}</span> <span class="token keyword control-flow">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="12">      <span class="token function">onError</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="13">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="14">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>controller<span class="token punctuation">,</span> url<span class="token punctuation">,</span> params<span class="token punctuation">,</span> onFetchComplete<span class="token punctuation">,</span> onError<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="15">
</span><span class="code-line line-number" line="16">  <span class="token keyword">const</span> abortRequest <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="17">    controller<span class="token punctuation">.</span><span class="token method function property-access">abort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="18">    <span class="token comment">// Create a new AbortController,</span>
</span><span class="code-line line-number" line="19">    <span class="token comment">// since you cannot use same AbortController more than once.</span>
</span><span class="code-line line-number" line="20">    <span class="token function">setController</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">AbortController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="21">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>controller<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="22">
</span><span class="code-line line-number" line="23">  <span class="token keyword control-flow">return</span> <span class="token punctuation">[</span>callback<span class="token punctuation">,</span> abort<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="24"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre>
<p>í•˜ì§€ë§Œ ìœ„ í›…ì—ëŠ” ê²°í•¨ì´ í•˜ë‚˜ ìˆëŠ”ë°, ë°”ë¡œ <code>AbortController</code>ê°€ <code>state</code>ë¡œ ê´€ë¦¬ ëœë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.
í•œë²ˆ <code>AbortController.abort()</code>ë¥¼ í˜¸ì¶œí•˜ë©´ ê·¸ ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ì¬ì‚¬ìš©í•  ìˆ˜ ì—†ì£ .
ë”°ë¼ì„œ <code>AbortController.abort()</code> í˜¸ì¶œ í›„ ìƒˆë¡œìš´ <code>AbortController</code>ë¥¼ ìƒì„±í•´ ë‹¤ìŒ abortì— ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.
ê·¸ëŸ¬ë¯€ë¡œ ìµœì‹  <code>AbortController</code>ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„  ë‘ ì½œë°±ì´ <code>controller</code> stateì— ì˜ì¡´í•´ì•¼ í•©ë‹ˆë‹¤.
ì´ ì˜ì¡´ì„±ì€ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ì´ë¼ëŠ” ë¬¸ì œë¥¼ ë§Œë“¤ì–´ ëƒ…ë‹ˆë‹¤.</p>
<ol>
<li><code>abortRequest()</code> ì½œë°± í˜¸ì¶œ.</li>
<li><code>controller</code> state ê°±ì‹ .</li>
<li><code>request</code>ì™€ <code>abortRequest</code> ì½œë°± ê°±ì‹ .</li>
<li>í›…ì„ ì‚¬ìš©í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì™€ ê·¸ ìì‹ ì»´í¬ë„ŒíŠ¸ë“¤ ë¦¬ë Œë”ë§.</li>
</ol>
<p>ê²Œë‹¤ê°€ <code>request</code> stateì— ì˜ì¡´í•˜ëŠ” ì´ ì½œë°±ì„ <code>useEffect</code> ë‚´ì—ì„œ ë¶€ë¥´ë©´
ë˜ ë‹¤ë¥¸ ì´ìŠˆê°€ ë°œìƒí•©ë‹ˆë‹¤.
abort ì½œë°± í˜¸ì¶œ ì‹œ effectëŠ” ìš°ë¦¬ì˜ ì˜ë„ì™€ëŠ” ìƒê´€ ì—†ì´ ë¬´ì¡°ê±´ ì¬ì‹¤í–‰í•©ë‹ˆë‹¤.
ë˜í•œ effect ë‚´ì—ì„  <code>request</code>ë¥¼ í˜¸ì¶œí•˜ê³  ê·¸ effectì˜ cleanup í•¨ìˆ˜ì—ì„œ <code>abort</code>ë¥¼ í˜¸ì¶œí•˜ë©´
ë¬´í•œ ë¦¬ë Œë”ë§ì´ ë°œìƒí•©ë‹ˆë‹¤.
ì´ëŸ¬í•œ ë™ì‘ë“¤ì€ í›…ì˜ ë‚´ë¶€ ë¡œì§ì— ì˜í•œ ê²ƒì´ê¸° ë•Œë¬¸ì—
ë‚´ë¶€ë¥¼ ë³¼ ìˆ˜ ì—†ëŠ” í›…ì„ ì‚¬ìš©í•˜ëŠ” ì…ì¥ì—ì„  êµ‰ì¥íˆ í˜¼ë€ìŠ¤ëŸ¬ìš¸ ê²ƒì…ë‹ˆë‹¤.</p>
<pre class="language-jsx"><code class="language-jsx code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">const</span> <span class="token punctuation">[</span>search<span class="token punctuation">,</span> abortSearch<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useAbortController</span><span class="token punctuation">(</span>
</span><span class="code-line line-number" line="2">  url<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="3">  params<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="4">  setSearchResult<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="5">  onError<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="6"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="7">
</span><span class="code-line line-number" line="8"><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="9">  <span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="10">
</span><span class="code-line line-number" line="11">  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="12">    <span class="token function">abortSearch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="13">  <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="14"><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>search<span class="token punctuation">,</span> abortSearch<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="15">
</span><span class="code-line line-number" line="16"><span class="token comment">// All I want to do is cancel searching,</span>
</span><span class="code-line line-number" line="17"><span class="token comment">// but search API is called when the button is pressed?</span>
</span><span class="code-line line-number" line="18"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>abortSearch<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">Cancel Search</span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>button</span><span class="token punctuation">></span></span>
</span></code></pre>
<h2 id="5-useRefë¡œ-AbortController-ê´€ë¦¬í•˜ê¸°">useRefë¡œ AbortController ê´€ë¦¬í•˜ê¸°</h2>
<p><code>AbortController</code>ë¥¼ <code>useState</code>ê°€ ì•„ë‹Œ <code>useRef</code>ë¡œ ê´€ë¦¬í•˜ë©´
ë¦¬ë Œë”ë§ ì´ìŠˆë¥¼ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">const</span> useAbortController <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> params<span class="token punctuation">,</span> onFetchComplete<span class="token punctuation">,</span> onError</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">  <span class="token keyword">const</span> controllerRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">AbortController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4">  <span class="token keyword">const</span> request <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="5">    <span class="token keyword control-flow">try</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="6">      <span class="token keyword">const</span> signal <span class="token operator">=</span> controllerRef<span class="token punctuation">.</span><span class="token property-access">current</span><span class="token punctuation">.</span><span class="token property-access">signal</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="7">      <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword control-flow">await</span> axios<span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="8">        params<span class="token punctuation">,</span>
</span><span class="code-line line-number" line="9">        signal
</span><span class="code-line line-number" line="10">      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="11">      onFetchComplete<span class="token operator">?.</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="12">    <span class="token punctuation">}</span> <span class="token keyword control-flow">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="13">      onError<span class="token operator">?.</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="14">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="15">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>url<span class="token punctuation">,</span> params<span class="token punctuation">,</span> onFetchComplete<span class="token punctuation">,</span> onError<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="16">
</span><span class="code-line line-number" line="17">  <span class="token keyword">const</span> abortRequest <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="18">    controllerRef<span class="token punctuation">.</span><span class="token property-access">current</span><span class="token punctuation">.</span><span class="token method function property-access">abort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="19">    controllerRef<span class="token punctuation">.</span><span class="token property-access">current</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AbortController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="20">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="21">
</span><span class="code-line line-number" line="22">  <span class="token keyword control-flow">return</span> <span class="token punctuation">[</span>callback<span class="token punctuation">,</span> abort<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="23"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre>
<p>ì´ì œ ë¦¬ë Œë”ë§ ì´ìŠˆì—ì„œ í•´ë°©ë˜ì—ˆìŠµë‹ˆë‹¤.
<code>request</code> ì½œë°± ë‚´ <code>signal</code> ë³€ìˆ˜ê°€ ìƒˆë¡œ ì •ì˜ëœ ê²ƒì— ì£¼ì˜í•˜ì„¸ìš”.
<code>abort</code> ì½œë°±ì€ <code>controllerRef.current</code>ë¥¼ ì—…ë°ì´íŠ¸ í•©ë‹ˆë‹¤.
ë”°ë¼ì„œ <code>abort</code> ì½œë°± í˜¸ì¶œ í›„, <code>fetch</code> í•¨ìˆ˜ ë‚´ <code>controllerRef.current</code>ëŠ”
ìš°ë¦¬ê°€ ì›í•˜ëŠ” <code>AbortController</code>ê°€ ì•„ë‹ ìˆ˜ë„ ìˆë‹¤ëŠ” ê²ƒì´ì£ .
ë§Œì•½ <code>fetch</code> ì „ <code>abort</code> ì½œë°±ì„ í˜¸ì¶œí–ˆë‹¤ë©´ <code>fetch</code>ê°€ ì°¸ì¡°í•˜ëŠ”
<code>AbortController</code>ëŠ” ìƒˆ ì¸ìŠ¤í„´ìŠ¤ì¼ ìˆ˜ ìˆìœ¼ë©° ê·¸ë ‡ë‹¤ë©´
ë°©ê¸ˆ í˜¸ì¶œí•œ <code>abort</code>ëŠ” ë¦¬í€˜ìŠ¤íŠ¸ë¥¼ ì·¨ì†Œí•˜ì§€ ëª»í•©ë‹ˆë‹¤.
ë”°ë¼ì„œ <code>fetch</code> í˜¸ì¶œ ì§ì „ <code>controllerRef.current</code>ë¥¼ ë‹¤ë¥¸ ë³€ìˆ˜ì—
ì €ì¥í•´ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.</p>
<h1 id="6-AbortControllerë¥¼-ì½œë°±ì˜-íŒŒë¼ë¯¸í„°ë¡œ-ì „ë‹¬í•˜ê¸°">AbortControllerë¥¼ ì½œë°±ì˜ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬í•˜ê¸°</h1>
<p>ìœ ì—°ì„±ì„ ë” ë†’ì´ê¸° ìœ„í•´ urlì´ ì•„ë‹ˆë¼, <code>AbortController</code>ë¥¼ ë°›ëŠ” ì½œë°±ì„
í›…ì˜ íŒŒë¼ë¯¸í„°ë¡œ ë°›ì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
ì´ë ‡ê²Œ ë˜ë©´ <code>url</code>, <code>params</code>, <code>onFetchComplete</code>, <code>onError</code>
ì´ë ‡ê²Œ íŒŒë¼ë¯¸í„° ì—¬ëŸ¬ ê°œê°€ ì•„ë‹Œ íŒŒë¼ë¯¸í„°ë¡œ ë„˜ê²¨ì¤„ ì½œë°± í•˜ë‚˜ì—ì„œ ì „ë¶€ ì²˜ë¦¬ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">const</span> searchWithAbortController <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span>
</span><span class="code-line line-number" line="2">  <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">abortController</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">    <span class="token keyword control-flow">try</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="4">      <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword control-flow">await</span> axios<span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">'/search'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="5">        <span class="token literal-property property">signal</span><span class="token operator">:</span> abortController<span class="token punctuation">.</span><span class="token property-access">signal</span>
</span><span class="code-line line-number" line="6">      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="7">      <span class="token comment">// Handle result</span>
</span><span class="code-line line-number" line="8">    <span class="token punctuation">}</span> <span class="token keyword control-flow">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="9">      <span class="token comment">// Handle errors</span>
</span><span class="code-line line-number" line="10">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="11">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="12">
</span><span class="code-line line-number" line="13"><span class="token keyword">const</span> <span class="token punctuation">[</span>search<span class="token punctuation">,</span> abortSearch<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useAbortController</span><span class="token punctuation">(</span>searchWithAbortController<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre>
<p>ì´ëŸ¬í•œ í›…ì€ ë‹¤ìŒê³¼ ê°™ì´ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì´ í›…ì˜ ì—­í• ì€ íŒŒë¼ë¯¸í„°ë¡œ ë°›ì€ ì½œë°±ì— <code>AbortController</code>ë¥¼ ë°”ë¥´ëŠ” ê²Œ ë‹¤ì…ë‹ˆë‹¤.
í›…ì„ í˜¸ì¶œí•˜ëŠ” ìª½ì— ì‘ë‹µê³¼ ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•˜ë„ë¡ ì—­í• ì„ ë„˜ê²¼ê¸° ë•Œë¬¸ì— í›…ì˜ ì½”ë“œê°€ êµ‰ì¥íˆ ê°„ê²°í•©ë‹ˆë‹¤.
í•˜ì§€ë§Œ ë°˜ëŒ€ë¡œ í˜¸ì¶œí•˜ëŠ” ìª½ì˜ ì½”ë“œê°€ ë” ë³µì¡í•´ì§€ê² ì£ .</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">const</span> useAbortController <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">cb</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">  <span class="token keyword">const</span> controllerRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">AbortController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4">  <span class="token keyword">const</span> callback <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="5">    <span class="token keyword">const</span> controller <span class="token operator">=</span> controllerRef<span class="token punctuation">.</span><span class="token property-access">current</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="6">    <span class="token keyword control-flow">return</span> <span class="token function">cb</span><span class="token punctuation">(</span>controller<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="7">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>cb<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="8">
</span><span class="code-line line-number" line="9">  <span class="token keyword">const</span> abort <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="10">    controllerRef<span class="token punctuation">.</span><span class="token property-access">current</span><span class="token punctuation">.</span><span class="token method function property-access">abort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="11">    controllerRef<span class="token punctuation">.</span><span class="token property-access">current</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AbortController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="12">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="13">
</span><span class="code-line line-number" line="14">  <span class="token keyword control-flow">return</span> <span class="token punctuation">[</span>callback<span class="token punctuation">,</span> abort<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="15"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre>
<h2 id="7-íŒŒë¼ë¯¸í„°ì˜-ì½œë°±ì—-ë‹¤ë¥¸-ì¸ìë„-ì „ë‹¬í•˜ê¸°">íŒŒë¼ë¯¸í„°ì˜ ì½œë°±ì— ë‹¤ë¥¸ ì¸ìë„ ì „ë‹¬í•˜ê¸°</h2>
<p>ì—¬ê¸°ì„œ ë” ê³ ë„í™”ë¥¼ í•´ë³´ì£ . ì½œë°±ì´ <code>AbortController</code> ë¿ ì•„ë‹ˆë¼
ë‹¤ë¥¸ ì¸ìë„ ë°›ì„ ìˆ˜ ìˆìœ¼ë©´ ì–¼ë§ˆë‚˜ ì¢‹ì„ê¹Œìš”?</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">const</span> useAbortController <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">cb</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">  <span class="token keyword">const</span> controllerRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">AbortController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4">  <span class="token keyword">const</span> callback <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token spread operator">...</span>args</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="5">    <span class="token keyword">const</span> controller <span class="token operator">=</span> controllerRef<span class="token punctuation">.</span><span class="token property-access">current</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="6">    <span class="token keyword control-flow">return</span> <span class="token function">cb</span><span class="token punctuation">(</span>controller<span class="token punctuation">,</span> <span class="token spread operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="7">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>cb<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="8">
</span><span class="code-line line-number" line="9">  <span class="token keyword">const</span> abort <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="10">    controllerRef<span class="token punctuation">.</span><span class="token property-access">current</span><span class="token punctuation">.</span><span class="token method function property-access">abort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="11">    controllerRef<span class="token punctuation">.</span><span class="token property-access">current</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AbortController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="12">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="13">
</span><span class="code-line line-number" line="14">  <span class="token keyword control-flow">return</span> <span class="token punctuation">[</span>callback<span class="token punctuation">,</span> abort<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="15"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre>
<p>ì´ëŸ¬í•œ íŒ¨í„´ì€ <code>useAbortController</code> í›…ìœ¼ë¡œ ê°ì‹¸ê¸° ì „ì˜ ì›ë˜ í•¨ìˆ˜ì™€
íŒŒë¼ë¯¸í„°ê°€ ì¼ì¹˜í•˜ê¸° ë•Œë¬¸ì— í˜¸ì¶œ ì‹œ êµ‰ì¥íˆ í¸ë¦¬í•©ë‹ˆë‹¤.</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">const</span> searchWithAbortController <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span>
</span><span class="code-line line-number" line="2">  <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">abortController<span class="token punctuation">,</span> keyword</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">    <span class="token keyword control-flow">try</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="4">      <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword control-flow">await</span> axios<span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">'/search'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="5">        <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span>keyword<span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="6">        <span class="token literal-property property">signal</span><span class="token operator">:</span> abortController<span class="token punctuation">.</span><span class="token property-access">signal</span>
</span><span class="code-line line-number" line="7">      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="8">      <span class="token comment">// Handle result</span>
</span><span class="code-line line-number" line="9">    <span class="token punctuation">}</span> <span class="token keyword control-flow">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="10">      <span class="token comment">// Handle errors</span>
</span><span class="code-line line-number" line="11">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="12">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="13">
</span><span class="code-line line-number" line="14"><span class="token keyword">const</span> <span class="token punctuation">[</span>search<span class="token punctuation">,</span> abortSearch<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useAbortController</span><span class="token punctuation">(</span>searchWithAbortController<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="15">
</span><span class="code-line line-number" line="16"><span class="token comment">// Like this. No need to care AbortController, just your arguments.</span>
</span><span class="code-line line-number" line="17"><span class="token function">search</span><span class="token punctuation">(</span><span class="token string">'keyword'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre>
<p>ë§Œì•½ <code>AbortController</code>ê°€ íŒŒë¼ë¯¸í„°ì˜ ë§ˆì§€ë§‰ì— ì˜¤ê¸¸ ë°”ë€ë‹¤ë©´, ë‹¤ìŒê³¼ ê°™ì´ ë³´ë‚´ë©´ ë©ë‹ˆë‹¤.</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">const</span> useAbortController <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">cb</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">  <span class="token keyword">const</span> controllerRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">AbortController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4">  <span class="token keyword">const</span> callback <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token spread operator">...</span>args</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="5">    <span class="token keyword">const</span> controller <span class="token operator">=</span> controllerRef<span class="token punctuation">.</span><span class="token property-access">current</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="6">    <span class="token keyword control-flow">return</span> <span class="token function">cb</span><span class="token punctuation">(</span><span class="token spread operator">...</span>args<span class="token punctuation">,</span> controller<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="7">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>cb<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="8">
</span><span class="code-line line-number" line="9">  <span class="token keyword">const</span> abort <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="10">    controllerRef<span class="token punctuation">.</span><span class="token property-access">current</span><span class="token punctuation">.</span><span class="token method function property-access">abort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="11">    controllerRef<span class="token punctuation">.</span><span class="token property-access">current</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AbortController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="12">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="13">
</span><span class="code-line line-number" line="14">  <span class="token keyword control-flow">return</span> <span class="token punctuation">[</span>callback<span class="token punctuation">,</span> abort<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="15"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="16">
</span><span class="code-line line-number" line="17"><span class="token keyword">const</span> searchWithAbortController <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span>
</span><span class="code-line line-number" line="18">  <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">keyword<span class="token punctuation">,</span> abortController</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="19">    <span class="token keyword control-flow">try</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="20">      <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword control-flow">await</span> axios<span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">'/search'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="21">        <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span>keyword<span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="22">        <span class="token literal-property property">signal</span><span class="token operator">:</span> abortController<span class="token punctuation">.</span><span class="token property-access">signal</span>
</span><span class="code-line line-number" line="23">      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="24">      <span class="token comment">// Handle result</span>
</span><span class="code-line line-number" line="25">    <span class="token punctuation">}</span> <span class="token keyword control-flow">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="26">      <span class="token comment">// Handle errors</span>
</span><span class="code-line line-number" line="27">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="28">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre>
<h3 id="8-Typescriptë¡œ-íƒ€ì´í•‘-í•˜ê¸°">Typescriptë¡œ íƒ€ì´í•‘ í•˜ê¸°</h3>
<p>ì´ì œ ì´ í›…ì„ ì–´ë–»ê²Œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¡œ ì§¤ ìˆ˜ ìˆì„ì§€ ë´…ì‹œë‹¤.
currying í•¨ìˆ˜ ì‘ì„± ì‹œ íƒ€ì…ì´ Deprecated ë˜ì§€ ì•Šê²Œ í•˜ëŠ” ê²ƒì€ DXì— ì ì§€ ì•Šì€ ì˜í–¥ì„ ë¯¸ì¹©ë‹ˆë‹¤.
ì‹ ê²½ ì¨ì„œ ì‘ì„±í•˜ì§€ ì•Šìœ¼ë©´ currying í•¨ìˆ˜ì˜ íƒ€ì…ì€ ë‚ ë¼ê°€ê²Œ ë˜ì£ .
ë‹¤ìŒ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ë´…ì‹œë‹¤.
ë™ì‘ì€ í•˜ì§€ë§Œ ëª¨ë“  íƒ€ì…ì´ <code>unknown</code>ì…ë‹ˆë‹¤. ì´ê±´ ì•„ë‹ˆì£ .</p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">const</span> <span class="token function-variable function">useAbortController</span> <span class="token operator">=</span> <span class="token punctuation">(</span>
</span><span class="code-line line-number" line="2">  <span class="token function-variable function">cb</span><span class="token operator">:</span> <span class="token punctuation">(</span>controller<span class="token operator">:</span> AbortController<span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">unknown</span>
</span><span class="code-line line-number" line="3"><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="4">  <span class="token keyword">const</span> controllerRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">AbortController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="5">
</span><span class="code-line line-number" line="6">  <span class="token keyword">const</span> callback <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">...</span>cbArgs<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="7">    <span class="token keyword">const</span> controller <span class="token operator">=</span> controllerRef<span class="token punctuation">.</span>current<span class="token punctuation">;</span>
</span><span class="code-line line-number" line="8">    <span class="token keyword">return</span> <span class="token function">cb</span><span class="token punctuation">(</span>controller<span class="token punctuation">,</span> <span class="token operator">...</span>cbArgs<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="9">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>cb<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="10">
</span><span class="code-line line-number" line="11">  <span class="token keyword">const</span> abort <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="12">    controllerRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span><span class="token function">abort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="13">    controllerRef<span class="token punctuation">.</span>current <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AbortController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="14">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="15">
</span><span class="code-line line-number" line="16">  <span class="token keyword">return</span> <span class="token punctuation">[</span>callback<span class="token punctuation">,</span> abort<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="17"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code></pre>
<p>ì—¬ê¸°ì„œ í•„ìš”í•œ ê²ƒì€ <em>generics</em>ì…ë‹ˆë‹¤.
ì œë„¤ë¦­ íƒ€ì…ì„ í›…ì— ì¶”ê°€í•¨ìœ¼ë¡œì¨ ë¦¬í„´ í•˜ëŠ” í•¨ìˆ˜ëŠ” ìë™ìœ¼ë¡œ ìƒì„¸í•œ íƒ€ì…ì„ ê°€ì§€ê²Œ ë©ë‹ˆë‹¤.</p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">const</span> useAbortController <span class="token operator">=</span> <span class="token operator">&#x3C;</span>Args <span class="token keyword">extends</span> <span class="token class-name"><span class="token builtin">unknown</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> Ret<span class="token operator">></span>
</span><span class="code-line line-number" line="2">  <span class="token punctuation">(</span>
</span><span class="code-line line-number" line="3">    <span class="token function-variable function">cb</span><span class="token operator">:</span> <span class="token punctuation">(</span>controller<span class="token operator">:</span> AbortController<span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token operator">:</span> Args<span class="token punctuation">)</span> <span class="token operator">=></span> Ret
</span><span class="code-line line-number" line="4">  <span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="5">  <span class="token keyword">const</span> controllerRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">AbortController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7">  <span class="token keyword">const</span> callback <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">...</span>cbArgs<span class="token operator">:</span> Args<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="8">    <span class="token keyword">const</span> controller <span class="token operator">=</span> controllerRef<span class="token punctuation">.</span>current<span class="token punctuation">;</span>
</span><span class="code-line line-number" line="9">    <span class="token keyword">return</span> <span class="token function">cb</span><span class="token punctuation">(</span>controller<span class="token punctuation">,</span> <span class="token operator">...</span>cbArgs<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="10">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>cb<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="11">
</span><span class="code-line line-number" line="12">  <span class="token keyword">const</span> abort <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="13">    controllerRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span><span class="token function">abort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="14">    controllerRef<span class="token punctuation">.</span>current <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AbortController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="15">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="16">
</span><span class="code-line line-number" line="17">  <span class="token keyword">return</span> <span class="token punctuation">[</span>callback<span class="token punctuation">,</span> abort<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="18"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code></pre>
<p>ì´ì œ ë…¸ì¶œë˜ëŠ” ì½œë°± íŒŒë¼ë¯¸í„°ëŠ” ìì„¸í•œ íƒ€ì…ì„ ê°€ì§€ê²Œ ë˜ë‚˜ í•¨ìˆ˜ ìì²´ì˜ íƒ€ì´í•‘ì€
ëª¨í˜¸í•œë°ìš”.
ì´ í›…ì˜ ë¦¬í„´ íƒ€ì…ì´ ë¬´ì—‡ì¸ì§€ ëª…ì‹œí•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</p>
<p><img src="/img/2023-10-26-en-useAbortController-hook/useAbortController-typescript-1.png" alt="useAbortController-typescript-wrong-types"></p>
<p><img src="/img/2023-10-26-en-useAbortController-hook/useAbortController-typescript-2.png" alt="useAbortController-typescript-wrong-types"></p>
<p>ë‹¤ìŒê³¼ ê°™ì´ ìƒì„¸í•œ íƒ€ì…ì„ ì¤Œìœ¼ë¡œì¨ í•´ê²°í•˜ê±°ë‚˜,</p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">const</span> useAbortController <span class="token operator">=</span> <span class="token operator">&#x3C;</span>Args <span class="token keyword">extends</span> <span class="token class-name"><span class="token builtin">unknown</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> Ret<span class="token operator">></span>
</span><span class="code-line line-number" line="2">  <span class="token punctuation">(</span>
</span><span class="code-line line-number" line="3">    <span class="token function-variable function">cb</span><span class="token operator">:</span> <span class="token punctuation">(</span>controller<span class="token operator">:</span> AbortController<span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token operator">:</span> Args<span class="token punctuation">)</span> <span class="token operator">=></span> Ret
</span><span class="code-line line-number" line="4">  <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token operator">:</span> Args<span class="token punctuation">)</span> <span class="token operator">=></span> Ret<span class="token punctuation">,</span> <span class="token function-variable function">abortCallback</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">]</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
</span></code></pre>
<p>ë¦¬í„´í•˜ëŠ” ì½œë°± ì–´ë ˆì´ì— <code>as const</code>ë¥¼ ì¤˜ì„œ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line line-number" line="1">  <span class="token keyword">return</span> <span class="token punctuation">[</span>callback<span class="token punctuation">,</span> abort<span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
</span></code></pre>
<p>ì´ì œ ì½œë°±ì€ ìì„¸í•œ íƒ€ì…ì„ ê°–ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.  :)</p>
<p>ë§Œì•½ í›…ì—ì„œ <code>AbortController</code>ê°€ ë§ˆì§€ë§‰ íŒŒë¼ë¯¸í„°ë¡œ ì˜¤ê²Œ ë§Œë“¤ê³  ì‹¶ë‹¤ë©´
íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¡œ ì‘ì„±í•˜ê¸´ ê¹Œë‹¤ë¡­ê¸´ í•˜ë‚˜ 100% ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">type</span> <span class="token class-name">ArgsWithController<span class="token operator">&#x3C;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token builtin">unknown</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token constant">T</span><span class="token punctuation">,</span> AbortController<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="2">
</span><span class="code-line line-number" line="3"><span class="token keyword">const</span> useAbortController <span class="token operator">=</span> <span class="token operator">&#x3C;</span>Args <span class="token keyword">extends</span> <span class="token class-name"><span class="token builtin">unknown</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> Ret<span class="token operator">></span>
</span><span class="code-line line-number" line="4">  <span class="token punctuation">(</span>
</span><span class="code-line line-number" line="5">    <span class="token function-variable function">cb</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token operator">:</span> ArgsWithController<span class="token operator">&#x3C;</span>Args<span class="token operator">></span><span class="token punctuation">)</span> <span class="token operator">=></span> Ret
</span><span class="code-line line-number" line="6">  <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token operator">:</span> Args<span class="token punctuation">)</span> <span class="token operator">=></span> Ret<span class="token punctuation">,</span> <span class="token function-variable function">abortCallback</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">]</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="7">  <span class="token keyword">const</span> controllerRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">AbortController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="8">
</span><span class="code-line line-number" line="9">  <span class="token keyword">const</span> callback <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">...</span>cbArgs<span class="token operator">:</span> Args<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="10">    <span class="token keyword">const</span> controller <span class="token operator">=</span> controllerRef<span class="token punctuation">.</span>current<span class="token punctuation">;</span>
</span><span class="code-line line-number" line="11">    <span class="token keyword">return</span> <span class="token function">cb</span><span class="token punctuation">(</span><span class="token operator">...</span>cbArgs<span class="token punctuation">,</span> controller<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="12">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>cb<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="13">
</span><span class="code-line line-number" line="14">  <span class="token keyword">const</span> abort <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="15">    controllerRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span><span class="token function">abort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="16">    controllerRef<span class="token punctuation">.</span>current <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AbortController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="17">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="18">
</span><span class="code-line line-number" line="19">  <span class="token keyword">return</span> <span class="token punctuation">[</span>callback<span class="token punctuation">,</span> abort<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="20"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code></pre>
<p>íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ê°œë°œìë¥¼ ë•ê¸° ìœ„í•´ íƒ„ìƒí•œ ì–¸ì–´ë¼ëŠ” ê²ƒì„ ë§ì”€ ë“œë¦¬ê³  ì‹¶ìŠµë‹ˆë‹¤.
ë§Œì•½ ê°™ì€ ë¡œì§ì„ ì¬í™œìš©í•  ì¼ì´ ì—†ê±°ë‚˜, íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ ê·¸ë‹¤ì§€ ìœ ìš©í•˜ë‹¤ê³  ëŠë¼ì§€ ì•ŠëŠ”ë‹¤ë©´
íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ê´œì°®ìŠµë‹ˆë‹¤.
í•˜ì§€ë§Œ ìƒì„¸í•œ íƒ€ì´í•‘ê³¼ í•¨ê»˜ í•œë²ˆ ì‘ì„±ëœ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œëŠ” ì—¬ëŸ¬ë¶„ì„ ì—¬ëŸ¬ ë²ˆ êµ¬í•  ê²ƒì…ë‹ˆë‹¤.</p><!-- HTML_TAG_END --></main></div></div> <footer class="p-2 py-5 text-sm flex gap-1 flex-col md:flex-row items-center justify-between border-t border-gray-300 bg-gray-50 dark:border-gray-700 dark:bg-[#2c3039]"><div>Â© 2021~2024 dlguswo333; All rights reserved.</div> <div class="flex items-center"><a class="inline-flex items-center" href="https://github.com/dlguswo333/dlguswo333.github.io"><img class="inline h-4 w-4 mr-1" src="/github-mark.svg" alt="github-mark"></a>
    Built with Sveltekit.</div></footer>  
			
			<script>
				{
					__sveltekit_8m5s7y = {
						base: new URL("../../..", location).pathname.slice(0, -1),
						env: {}
					};

					const element = document.currentScript.parentElement;

					const data = [null,{"type":"data","data":{html:"\u003Cp>ë¦¬ì•¡íŠ¸ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë‹¤ ë³´ë©´ fetch ë¦¬í€˜ìŠ¤íŠ¸ë¥¼ ë³´ë‚´ì•¼ í•  ë•Œê°€ ì˜¤ì£ .\nê·¸ëŸ´ ë•ŒëŠ” \u003Ccode>useEffect\u003C/code> ë‚´ì—ì„œ APIë¥¼ í˜¸ì¶œí•˜ë¼ëŠ” ë§ì„ í•˜ê³¤ í•©ë‹ˆë‹¤.\në°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê²ƒì€ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ì˜ ìˆ˜ëª… ì£¼ê¸°ì™€ ê¹Šì€ ì—°ê´€ì´ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\u003C/p>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Fetching data with Effects\u003C/strong>\u003Cbr>\nYou can use an Effect to fetch data for your component.\n...\nWriting data fetching directly in Effects gets repetitive and makes it difficult to add optimizations like caching and server rendering later. Itâ€™s easier to use a custom Hookâ€”either your own or maintained by the community.\u003Cbr>\n\u003Ca href=\"https://react.dev/reference/react/useEffect#fetching-data-with-effects\">https://react.dev/reference/react/useEffect#fetching-data-with-effects\u003C/a>\u003C/p>\n\u003C/blockquote>\n\u003Cp>ë˜í•œ, ë¦¬í€˜ìŠ¤íŠ¸ë¥¼ ì·¨ì†Œí•˜ê¸° ìœ„í•´ boolean ê°’ ë˜ëŠ” \u003Ccode>AbortController\u003C/code>ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì´ëŠ” ì›ì¹˜ ì•ŠëŠ” \u003Ccode>race condition\u003C/code>ë„ ì˜ˆë°©í•´ì¤„ ìˆ˜ ìˆì£ .\u003C/p>\n\u003Cblockquote>\n\u003Cp>Note the \u003Ccode>ignore\u003C/code> variable which is initialized to \u003Ccode>false\u003C/code>, and is set to \u003Ccode>true\u003C/code> during cleanup. This ensures your code doesnâ€™t suffer from â€œrace conditionsâ€: network responses may arrive in a different order than you sent them.\u003Cbr>\n\u003Ca href=\"https://react.dev/reference/react/useEffect#fetching-data-with-effects\">https://react.dev/reference/react/useEffect#fetching-data-with-effects\u003C/a>\u003C/p>\n\u003C/blockquote>\n\u003Cp>boolean ê°’ í•˜ë‚˜ë¡œë„ ì¶©ë¶„í•˜ê¸´ í•˜ì§€ë§Œ\nì§„í–‰ ì¤‘ì¸ fetch ë¦¬í€˜ìŠ¤íŠ¸ë„ ì·¨ì†Œí•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì´ ìˆëŠ”\n\u003Ccode>AbortController\u003C/code>ê°€ ë” ë‚˜ì€ ì˜µì…˜ì´ë¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003C/p>\n\u003Cblockquote>\n\u003Cp>The abort() method of the AbortController interface aborts a DOM request before it has completed. This is able to abort fetch requests, the consumption of any response bodies, or streams.\u003Cbr>\n\u003Ca href=\"https://developer.mozilla.org/en-US/docs/Web/API/AbortController/abort\">https://developer.mozilla.org/en-US/docs/Web/API/AbortController/abort\u003C/a>\u003C/p>\n\u003C/blockquote>\n\u003Cp>ì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„  \u003Ccode>AbortController\u003C/code>ë¥¼ ì“°ëŠ” ë²•, ê·¸ë¦¬ê³  ë¦¬ì•¡íŠ¸ í”„ë¡œì íŠ¸ì—ì„œ ê³µí†µ ë¡œì§ê³¼ ì½”ë“œë¥¼ í›…ìœ¼ë¡œ\në¶„ë¦¬í•´ ì¬í™œìš©í•˜ëŠ” ì—¬ëŸ¬ ê°€ì§€ ë°©ë²•ì„ ì†Œê°œí•©ë‹ˆë‹¤.\u003C/p>\n\u003Ch1 id=\"1-useEffect-ë‚´-AbortController\">useEffect ë‚´ AbortController\u003C/h1>\n\u003Cp>ë‹¤ìŒ ì½”ë“œëŠ” fetch ë¦¬í€˜ìŠ¤íŠ¸ë¥¼ \u003Ccode>AbortController\u003C/code>ì™€ í•¨ê»˜ \u003Ccode>useEffect\u003C/code> ë‚´ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì˜ˆì‹œì…ë‹ˆë‹¤.\u003C/p>\n\u003Cpre class=\"language-js\">\u003Ccode class=\"language-js code-highlight\">\u003Cspan class=\"code-line line-number\" line=\"1\">\u003Cspan class=\"token function\">useEffect\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token arrow operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"2\">  \u003Cspan class=\"token keyword\">const\u003C/span> controller \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">AbortController\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"3\">  \u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token function-variable function\">search\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">async\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token arrow operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"4\">    \u003Cspan class=\"token keyword\">const\u003C/span> result \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword control-flow\">await\u003C/span> axios\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token method function property-access\">get\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">'/search'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"5\">      \u003Cspan class=\"token literal-property property\">params\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>keyword\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"6\">      \u003Cspan class=\"token literal-property property\">signal\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> controller\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token property-access\">signal\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"7\">    \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"8\">    \u003Cspan class=\"token function\">setSearchResult\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>result\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"9\">  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"10\">  \u003Cspan class=\"token function\">search\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"11\">\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"12\">  \u003Cspan class=\"token keyword control-flow\">return\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token arrow operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"13\">    controller\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token method function property-access\">abort\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"14\">  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"15\">\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>keyword\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>ì´ í¬ìŠ¤íŠ¸ì—ì„  \u003Ccode>axios\u003C/code>ë¥¼ ì‚¬ìš©í•´ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.\n\u003Ccode>axios\u003C/code>ëŠ” \u003Ccode>AbortController.signal\u003C/code>ì„ ë‘ë²ˆì§¸ íŒŒë¼ë¯¸í„° ì˜¤ë¸Œì íŠ¸ì˜ \u003Ccode>signal\u003C/code> ì†ì„±ìœ¼ë¡œ ê±´ë„¤ ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.\nìì„¸í•œ ë‚´ìš©ì€ \u003Ca href=\"https://axios-http.com/docs/cancellation\">\u003Ccode>axios\u003C/code> ë¬¸ì„œ\u003C/a>ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.\u003C/p>\n\u003Cp>\u003Ccode>keyword\u003C/code> stateê°€ ë°”ë€” ë•Œë§ˆë‹¤, cleanup í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ë©´ì„œ\nì§„í–‰ ì¤‘ì¸ fetch ë¦¬í€˜ìŠ¤íŠ¸ë¥¼ ì·¨ì†Œí•˜ê³  ì—ëŸ¬ë¥¼ ë˜ì§‘ë‹ˆë‹¤.\nì´ ì—ëŸ¬ì— ì˜í•´ ì•„ë˜ ì¤„ì˜ \u003Ccode>setSearchResult(result)\u003C/code>ê°€ ì‹¤í–‰ ë˜ì§€ ì•Šê³  ìŠ¤í‚µë˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\në˜í•œ ì·¨ì†Œ ì‹œ ë°œìƒí•˜ëŠ” \u003Ccode>AbortError\u003C/code>ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´, ë˜ëŠ” ì˜ë„ì¹˜ ì•Šì€ ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬ ë“±ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ì„œë¼ë„\ntry catchë¡œ ê°ì‹¸ëŠ” ê²ƒì´ ë°”ëŒì§í•©ë‹ˆë‹¤.\u003C/p>\n\u003Cblockquote>\n\u003Cp>When abort() is called, the fetch() promise rejects with a \u003Ccode>DOMException\u003C/code> named \u003Ccode>AbortError\u003C/code>.\u003Cbr>\n\u003Ca href=\"https://developer.mozilla.org/en-US/docs/Web/API/AbortController\">https://developer.mozilla.org/en-US/docs/Web/API/AbortController\u003C/a>\u003C/p>\n\u003C/blockquote>\n\u003Cpre class=\"language-js\">\u003Ccode class=\"language-js code-highlight\">\u003Cspan class=\"code-line line-number\" line=\"1\">\u003Cspan class=\"token function\">useEffect\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token arrow operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"2\">  \u003Cspan class=\"token keyword\">const\u003C/span> controller \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">AbortController\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"3\">  \u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token function-variable function\">search\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">async\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token arrow operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"4\">    \u003Cspan class=\"token keyword control-flow\">try\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"5\">      \u003Cspan class=\"token keyword\">const\u003C/span> result \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword control-flow\">await\u003C/span> axios\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token method function property-access\">get\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">'/search'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"6\">        \u003Cspan class=\"token literal-property property\">params\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>keyword\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"7\">        \u003Cspan class=\"token literal-property property\">signal\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> controller\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token property-access\">signal\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"8\">      \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"9\">      \u003Cspan class=\"token function\">setSearchResult\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>result\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"10\">    \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token keyword control-flow\">catch\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>e\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"11\">      \u003Cspan class=\"token keyword control-flow\">if\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>e \u003Cspan class=\"token keyword\">instanceof\u003C/span> \u003Cspan class=\"token class-name\">Error\u003C/span> \u003Cspan class=\"token operator\">&#x26;&#x26;\u003C/span> e\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token property-access\">name\u003C/span> \u003Cspan class=\"token operator\">===\u003C/span> \u003Cspan class=\"token string\">'AbortError'\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"12\">        \u003Cspan class=\"token comment\">// Handle AbortError\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"13\">      \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token keyword control-flow\">else\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"14\">        \u003Cspan class=\"token comment\">// Handle other errors\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"15\">      \u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"16\">    \u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"17\">  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"18\">  \u003Cspan class=\"token function\">search\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"19\">\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"20\">  \u003Cspan class=\"token keyword control-flow\">return\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token arrow operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"21\">    controller\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token method function property-access\">abort\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"22\">  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"23\">\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>keyword\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch1 id=\"2-AbortController-ì»¤ìŠ¤í…€-í›…ìœ¼ë¡œ-ë§Œë“¤ê¸°\">AbortController ì»¤ìŠ¤í…€ í›…ìœ¼ë¡œ ë§Œë“¤ê¸°\u003C/h1>\n\u003Cp>ë§Œì•½ ì½”ë“œë¥¼ ì»¤ìŠ¤í…€ í›…ìœ¼ë¡œ ì¬í™œìš©í•˜ê³  ì‹¶ë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ê°€ëŠ¥í•˜ê² ì£ .\u003C/p>\n\u003Cpre class=\"language-js\">\u003Ccode class=\"language-js code-highlight\">\u003Cspan class=\"code-line line-number\" line=\"1\">\u003Cspan class=\"token keyword\">const\u003C/span> useAbortController \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">url\u003Cspan class=\"token punctuation\">,\u003C/span> params\u003Cspan class=\"token punctuation\">,\u003C/span> onFetchComplete\u003Cspan class=\"token punctuation\">,\u003C/span> onError\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token arrow operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"2\">  \u003Cspan class=\"token function\">useEffect\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token arrow operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"3\">    \u003Cspan class=\"token keyword\">const\u003C/span> controller \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">AbortController\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"4\">    \u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token function-variable function\">search\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">async\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token arrow operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"5\">      \u003Cspan class=\"token keyword control-flow\">try\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"6\">        \u003Cspan class=\"token keyword\">const\u003C/span> result \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword control-flow\">await\u003C/span> axios\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token method function property-access\">get\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>url\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"7\">          params\u003Cspan class=\"token punctuation\">,\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"8\">          \u003Cspan class=\"token literal-property property\">signal\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> controller\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token property-access\">signal\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"9\">        \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"10\">        \u003Cspan class=\"token function\">onFetchComplete\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>result\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"11\">      \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token keyword control-flow\">catch\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>e\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"12\">        \u003Cspan class=\"token function\">onError\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>e\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"13\">      \u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"14\">    \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"15\">    \u003Cspan class=\"token function\">search\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"16\">\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"17\">    \u003Cspan class=\"token keyword control-flow\">return\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token arrow operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"18\">      controller\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token method function property-access\">abort\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"19\">    \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"20\">  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"21\">\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>url\u003Cspan class=\"token punctuation\">,\u003C/span> params\u003Cspan class=\"token punctuation\">,\u003C/span> onFetchComplete\u003Cspan class=\"token punctuation\">,\u003C/span> onError\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>ì´ í›…ì€ ì´ë ‡ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003C/p>\n\u003Cpre class=\"language-js\">\u003Ccode class=\"language-js code-highlight\">\u003Cspan class=\"code-line line-number\" line=\"1\">\u003Cspan class=\"token function\">useAbortController\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">'/search'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> params\u003Cspan class=\"token punctuation\">,\u003C/span> setSearchResult\u003Cspan class=\"token punctuation\">,\u003C/span> onError\u003Cspan class=\"token punctuation\">)\u003C/span>\n\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>í•˜ì§€ë§Œ ê° argumentì˜ stabilityë¥¼ ë³´ì¥í•´ì•¼ í•©ë‹ˆë‹¤.\në§Œì•½ ë¦¬ë Œë”ë§ ë•Œë§ˆë‹¤ ê° argumentê°€ ì¬ìƒì„±ë˜ì–´ ë¦¬ì•¡íŠ¸ê°€ \u003Cstrong>ë³€ê²½\u003C/strong> ë˜ì—ˆë‹¤ê³  íŒë‹¨ ì‹œ\në§¤ë²ˆ \u003Ccode>useEffect\u003C/code>ê°€ ì‹¤í–‰ ë˜ë¯€ë¡œ ë¶ˆí•„ìš”í•œ ë¦¬í€˜ìŠ¤íŠ¸, ìµœì•…ì˜ ê²½ìš° ë¬´í•œ ë¦¬ë Œë”ë§ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003C/p>\n\u003Cp>ë˜í•œ ì´ í›…ì€ \u003Ccode>search\u003C/code>ì™€ \u003Ccode>abort\u003C/code> ì½œë°±ì„ í•„ìš”í•  ë•Œ ë¶€ë¥¼ ìˆ˜ ì—†ë‹¤ëŠ” ë‹¨ì ì´ ìˆìŠµë‹ˆë‹¤.\nì‹œì‘/ì·¨ì†Œ ë²„íŠ¼ì„ í´ë¦­í•  ë•Œì™€ ê°™ì´ ì½œë°±ì„ í•„ìš”í•  ë•Œ ë¶€ë¥¼ ê²½ìš°ê°€ ìˆì„í…ë°ìš”,\ní•´ë‹¹ í›…ì€ ì½œë°±ì„ \u003Ccode>useEffect\u003C/code>ì— ê°ì‹¸ê³  ì™¸ë¶€ì— ë…¸ì¶œí•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì›í•  ë•Œ ë¶€ë¥´ëŠ” ê²ƒì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.\u003C/p>\n\u003Ch1 id=\"3-ë”-ê³ ë„í™”ëœ-AbortController-ì»¤ìŠ¤í…€-í›…-ë§Œë“¤ê¸°\">ë” ê³ ë„í™”ëœ AbortController ì»¤ìŠ¤í…€ í›… ë§Œë“¤ê¸°\u003C/h1>\n\u003Ch2 id=\"4-ì½œë°±ê³¼-Abort-í•¨ìˆ˜ë¥¼-ë¦¬í„´í•˜ê¸°\">ì½œë°±ê³¼ Abort í•¨ìˆ˜ë¥¼ ë¦¬í„´í•˜ê¸°\u003C/h2>\n\u003Cp>ë”°ë¼ì„œ ì»¤ìŠ¤í…€ í›…ì´ ë‚´ë¶€ì ìœ¼ë¡œ fetch ë¦¬í€˜ìŠ¤íŠ¸ë¥¼ ì•Œì•„ì„œ ë¶€ë¥´ê¸° ë³´ë‹¤ëŠ”,\në¦¬í€˜ìŠ¤íŠ¸ë¥¼ \u003Ccode>AbortController\u003C/code>ì™€ í•¨ê»˜ ë™ì‘í•˜ë„ë¡ ê³ ë„í™” í•œ í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´\nabort í•¨ìˆ˜ì™€ í•¨ê»˜ í˜¸ì¶œ ì»´í¬ë„ŒíŠ¸ì—ê²Œ ì „ë‹¬í•´ ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.\u003C/p>\n\u003Cpre class=\"language-jsx\">\u003Ccode class=\"language-jsx code-highlight\">\u003Cspan class=\"code-line line-number\" line=\"1\">\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>search\u003Cspan class=\"token punctuation\">,\u003C/span> abortSearch\u003Cspan class=\"token punctuation\">]\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">useAbortController\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"2\">  url\u003Cspan class=\"token punctuation\">,\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"3\">  params\u003Cspan class=\"token punctuation\">,\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"4\">  setSearchResult\u003Cspan class=\"token punctuation\">,\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"5\">  onError\u003Cspan class=\"token punctuation\">,\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"6\">\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"7\">\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"8\">\u003Cspan class=\"token comment\">// Use it like this:\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"9\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>button\u003C/span> \u003Cspan class=\"token attr-name\">onClick\u003C/span>\u003Cspan class=\"token script language-javascript\">\u003Cspan class=\"token script-punctuation punctuation\">=\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>search\u003Cspan class=\"token punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token plain-text\">Search\u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>button\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"10\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>button\u003C/span> \u003Cspan class=\"token attr-name\">onClick\u003C/span>\u003Cspan class=\"token script language-javascript\">\u003Cspan class=\"token script-punctuation punctuation\">=\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>abortSearch\u003Cspan class=\"token punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token plain-text\">Abort Search\u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>button\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>ìš°ë¦¬ê°€ ë§Œë“¤ í›…ì€ ë¦¬ì•¡íŠ¸ì˜ \u003Ccode>useCallback\u003C/code>ì„ ì‚¬ìš©í•´ ë‘ ì½œë°±ì„ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤.\në˜í•œ ë™ì¼ \u003Ccode>AbortController\u003C/code> ì¸ìŠ¤í„´ìŠ¤ë¥¼ \u003Ccode>useState\u003C/code>ë¥¼ ì‚¬ìš©í•´ ë‘ ì½œë°± ê°„ ê³µìœ í•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.\u003C/p>\n\u003Cpre class=\"language-js\">\u003Ccode class=\"language-js code-highlight\">\u003Cspan class=\"code-line line-number\" line=\"1\">\u003Cspan class=\"token keyword\">const\u003C/span> useAbortController \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">url\u003Cspan class=\"token punctuation\">,\u003C/span> params\u003Cspan class=\"token punctuation\">,\u003C/span> onFetchComplete\u003Cspan class=\"token punctuation\">,\u003C/span> onError\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token arrow operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"2\">  \u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>controller\u003Cspan class=\"token punctuation\">,\u003C/span> setController\u003Cspan class=\"token punctuation\">]\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">useState\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">AbortController\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"3\">\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"4\">  \u003Cspan class=\"token keyword\">const\u003C/span> request \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">useCallback\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token keyword\">async\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token arrow operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"5\">    \u003Cspan class=\"token keyword control-flow\">try\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"6\">      \u003Cspan class=\"token keyword\">const\u003C/span> result \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword control-flow\">await\u003C/span> axios\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token method function property-access\">get\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>url\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"7\">        params\u003Cspan class=\"token punctuation\">,\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"8\">        \u003Cspan class=\"token literal-property property\">signal\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> controller\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token property-access\">signal\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"9\">      \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"10\">      \u003Cspan class=\"token function\">onFetchComplete\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>result\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"11\">    \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token keyword control-flow\">catch\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>e\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"12\">      \u003Cspan class=\"token function\">onError\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>e\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"13\">    \u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"14\">  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>controller\u003Cspan class=\"token punctuation\">,\u003C/span> url\u003Cspan class=\"token punctuation\">,\u003C/span> params\u003Cspan class=\"token punctuation\">,\u003C/span> onFetchComplete\u003Cspan class=\"token punctuation\">,\u003C/span> onError\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"15\">\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"16\">  \u003Cspan class=\"token keyword\">const\u003C/span> abortRequest \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">useCallback\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token arrow operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"17\">    controller\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token method function property-access\">abort\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"18\">    \u003Cspan class=\"token comment\">// Create a new AbortController,\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"19\">    \u003Cspan class=\"token comment\">// since you cannot use same AbortController more than once.\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"20\">    \u003Cspan class=\"token function\">setController\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">AbortController\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"21\">  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>controller\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"22\">\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"23\">  \u003Cspan class=\"token keyword control-flow\">return\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>callback\u003Cspan class=\"token punctuation\">,\u003C/span> abort\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"24\">\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>í•˜ì§€ë§Œ ìœ„ í›…ì—ëŠ” ê²°í•¨ì´ í•˜ë‚˜ ìˆëŠ”ë°, ë°”ë¡œ \u003Ccode>AbortController\u003C/code>ê°€ \u003Ccode>state\u003C/code>ë¡œ ê´€ë¦¬ ëœë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.\ní•œë²ˆ \u003Ccode>AbortController.abort()\u003C/code>ë¥¼ í˜¸ì¶œí•˜ë©´ ê·¸ ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ì¬ì‚¬ìš©í•  ìˆ˜ ì—†ì£ .\në”°ë¼ì„œ \u003Ccode>AbortController.abort()\u003C/code> í˜¸ì¶œ í›„ ìƒˆë¡œìš´ \u003Ccode>AbortController\u003C/code>ë¥¼ ìƒì„±í•´ ë‹¤ìŒ abortì— ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.\nê·¸ëŸ¬ë¯€ë¡œ ìµœì‹  \u003Ccode>AbortController\u003C/code>ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„  ë‘ ì½œë°±ì´ \u003Ccode>controller\u003C/code> stateì— ì˜ì¡´í•´ì•¼ í•©ë‹ˆë‹¤.\nì´ ì˜ì¡´ì„±ì€ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ì´ë¼ëŠ” ë¬¸ì œë¥¼ ë§Œë“¤ì–´ ëƒ…ë‹ˆë‹¤.\u003C/p>\n\u003Col>\n\u003Cli>\u003Ccode>abortRequest()\u003C/code> ì½œë°± í˜¸ì¶œ.\u003C/li>\n\u003Cli>\u003Ccode>controller\u003C/code> state ê°±ì‹ .\u003C/li>\n\u003Cli>\u003Ccode>request\u003C/code>ì™€ \u003Ccode>abortRequest\u003C/code> ì½œë°± ê°±ì‹ .\u003C/li>\n\u003Cli>í›…ì„ ì‚¬ìš©í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì™€ ê·¸ ìì‹ ì»´í¬ë„ŒíŠ¸ë“¤ ë¦¬ë Œë”ë§.\u003C/li>\n\u003C/ol>\n\u003Cp>ê²Œë‹¤ê°€ \u003Ccode>request\u003C/code> stateì— ì˜ì¡´í•˜ëŠ” ì´ ì½œë°±ì„ \u003Ccode>useEffect\u003C/code> ë‚´ì—ì„œ ë¶€ë¥´ë©´\në˜ ë‹¤ë¥¸ ì´ìŠˆê°€ ë°œìƒí•©ë‹ˆë‹¤.\nabort ì½œë°± í˜¸ì¶œ ì‹œ effectëŠ” ìš°ë¦¬ì˜ ì˜ë„ì™€ëŠ” ìƒê´€ ì—†ì´ ë¬´ì¡°ê±´ ì¬ì‹¤í–‰í•©ë‹ˆë‹¤.\në˜í•œ effect ë‚´ì—ì„  \u003Ccode>request\u003C/code>ë¥¼ í˜¸ì¶œí•˜ê³  ê·¸ effectì˜ cleanup í•¨ìˆ˜ì—ì„œ \u003Ccode>abort\u003C/code>ë¥¼ í˜¸ì¶œí•˜ë©´\në¬´í•œ ë¦¬ë Œë”ë§ì´ ë°œìƒí•©ë‹ˆë‹¤.\nì´ëŸ¬í•œ ë™ì‘ë“¤ì€ í›…ì˜ ë‚´ë¶€ ë¡œì§ì— ì˜í•œ ê²ƒì´ê¸° ë•Œë¬¸ì—\në‚´ë¶€ë¥¼ ë³¼ ìˆ˜ ì—†ëŠ” í›…ì„ ì‚¬ìš©í•˜ëŠ” ì…ì¥ì—ì„  êµ‰ì¥íˆ í˜¼ë€ìŠ¤ëŸ¬ìš¸ ê²ƒì…ë‹ˆë‹¤.\u003C/p>\n\u003Cpre class=\"language-jsx\">\u003Ccode class=\"language-jsx code-highlight\">\u003Cspan class=\"code-line line-number\" line=\"1\">\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>search\u003Cspan class=\"token punctuation\">,\u003C/span> abortSearch\u003Cspan class=\"token punctuation\">]\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">useAbortController\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"2\">  url\u003Cspan class=\"token punctuation\">,\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"3\">  params\u003Cspan class=\"token punctuation\">,\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"4\">  setSearchResult\u003Cspan class=\"token punctuation\">,\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"5\">  onError\u003Cspan class=\"token punctuation\">,\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"6\">\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"7\">\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"8\">\u003Cspan class=\"token function\">useEffect\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token arrow operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"9\">  \u003Cspan class=\"token function\">search\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"10\">\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"11\">  \u003Cspan class=\"token keyword control-flow\">return\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token arrow operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"12\">    \u003Cspan class=\"token function\">abortSearch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"13\">  \u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"14\">\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>search\u003Cspan class=\"token punctuation\">,\u003C/span> abortSearch\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"15\">\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"16\">\u003Cspan class=\"token comment\">// All I want to do is cancel searching,\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"17\">\u003Cspan class=\"token comment\">// but search API is called when the button is pressed?\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"18\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>button\u003C/span> \u003Cspan class=\"token attr-name\">onClick\u003C/span>\u003Cspan class=\"token script language-javascript\">\u003Cspan class=\"token script-punctuation punctuation\">=\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>abortSearch\u003Cspan class=\"token punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token plain-text\">Cancel Search\u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>button\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch2 id=\"5-useRefë¡œ-AbortController-ê´€ë¦¬í•˜ê¸°\">useRefë¡œ AbortController ê´€ë¦¬í•˜ê¸°\u003C/h2>\n\u003Cp>\u003Ccode>AbortController\u003C/code>ë¥¼ \u003Ccode>useState\u003C/code>ê°€ ì•„ë‹Œ \u003Ccode>useRef\u003C/code>ë¡œ ê´€ë¦¬í•˜ë©´\në¦¬ë Œë”ë§ ì´ìŠˆë¥¼ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003C/p>\n\u003Cpre class=\"language-js\">\u003Ccode class=\"language-js code-highlight\">\u003Cspan class=\"code-line line-number\" line=\"1\">\u003Cspan class=\"token keyword\">const\u003C/span> useAbortController \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">url\u003Cspan class=\"token punctuation\">,\u003C/span> params\u003Cspan class=\"token punctuation\">,\u003C/span> onFetchComplete\u003Cspan class=\"token punctuation\">,\u003C/span> onError\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token arrow operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"2\">  \u003Cspan class=\"token keyword\">const\u003C/span> controllerRef \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">useRef\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">AbortController\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"3\">\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"4\">  \u003Cspan class=\"token keyword\">const\u003C/span> request \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">useCallback\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token keyword\">async\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token arrow operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"5\">    \u003Cspan class=\"token keyword control-flow\">try\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"6\">      \u003Cspan class=\"token keyword\">const\u003C/span> signal \u003Cspan class=\"token operator\">=\u003C/span> controllerRef\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token property-access\">current\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token property-access\">signal\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"7\">      \u003Cspan class=\"token keyword\">const\u003C/span> result \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword control-flow\">await\u003C/span> axios\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token method function property-access\">get\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>url\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"8\">        params\u003Cspan class=\"token punctuation\">,\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"9\">        signal\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"10\">      \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"11\">      onFetchComplete\u003Cspan class=\"token operator\">?.\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>result\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"12\">    \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token keyword control-flow\">catch\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>e\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"13\">      onError\u003Cspan class=\"token operator\">?.\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>e\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"14\">    \u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"15\">  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>url\u003Cspan class=\"token punctuation\">,\u003C/span> params\u003Cspan class=\"token punctuation\">,\u003C/span> onFetchComplete\u003Cspan class=\"token punctuation\">,\u003C/span> onError\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"16\">\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"17\">  \u003Cspan class=\"token keyword\">const\u003C/span> abortRequest \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">useCallback\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token arrow operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"18\">    controllerRef\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token property-access\">current\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token method function property-access\">abort\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"19\">    controllerRef\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token property-access\">current\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">AbortController\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"20\">  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"21\">\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"22\">  \u003Cspan class=\"token keyword control-flow\">return\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>callback\u003Cspan class=\"token punctuation\">,\u003C/span> abort\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"23\">\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>ì´ì œ ë¦¬ë Œë”ë§ ì´ìŠˆì—ì„œ í•´ë°©ë˜ì—ˆìŠµë‹ˆë‹¤.\n\u003Ccode>request\u003C/code> ì½œë°± ë‚´ \u003Ccode>signal\u003C/code> ë³€ìˆ˜ê°€ ìƒˆë¡œ ì •ì˜ëœ ê²ƒì— ì£¼ì˜í•˜ì„¸ìš”.\n\u003Ccode>abort\u003C/code> ì½œë°±ì€ \u003Ccode>controllerRef.current\u003C/code>ë¥¼ ì—…ë°ì´íŠ¸ í•©ë‹ˆë‹¤.\në”°ë¼ì„œ \u003Ccode>abort\u003C/code> ì½œë°± í˜¸ì¶œ í›„, \u003Ccode>fetch\u003C/code> í•¨ìˆ˜ ë‚´ \u003Ccode>controllerRef.current\u003C/code>ëŠ”\nìš°ë¦¬ê°€ ì›í•˜ëŠ” \u003Ccode>AbortController\u003C/code>ê°€ ì•„ë‹ ìˆ˜ë„ ìˆë‹¤ëŠ” ê²ƒì´ì£ .\në§Œì•½ \u003Ccode>fetch\u003C/code> ì „ \u003Ccode>abort\u003C/code> ì½œë°±ì„ í˜¸ì¶œí–ˆë‹¤ë©´ \u003Ccode>fetch\u003C/code>ê°€ ì°¸ì¡°í•˜ëŠ”\n\u003Ccode>AbortController\u003C/code>ëŠ” ìƒˆ ì¸ìŠ¤í„´ìŠ¤ì¼ ìˆ˜ ìˆìœ¼ë©° ê·¸ë ‡ë‹¤ë©´\në°©ê¸ˆ í˜¸ì¶œí•œ \u003Ccode>abort\u003C/code>ëŠ” ë¦¬í€˜ìŠ¤íŠ¸ë¥¼ ì·¨ì†Œí•˜ì§€ ëª»í•©ë‹ˆë‹¤.\në”°ë¼ì„œ \u003Ccode>fetch\u003C/code> í˜¸ì¶œ ì§ì „ \u003Ccode>controllerRef.current\u003C/code>ë¥¼ ë‹¤ë¥¸ ë³€ìˆ˜ì—\nì €ì¥í•´ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.\u003C/p>\n\u003Ch1 id=\"6-AbortControllerë¥¼-ì½œë°±ì˜-íŒŒë¼ë¯¸í„°ë¡œ-ì „ë‹¬í•˜ê¸°\">AbortControllerë¥¼ ì½œë°±ì˜ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬í•˜ê¸°\u003C/h1>\n\u003Cp>ìœ ì—°ì„±ì„ ë” ë†’ì´ê¸° ìœ„í•´ urlì´ ì•„ë‹ˆë¼, \u003Ccode>AbortController\u003C/code>ë¥¼ ë°›ëŠ” ì½œë°±ì„\ní›…ì˜ íŒŒë¼ë¯¸í„°ë¡œ ë°›ì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\nì´ë ‡ê²Œ ë˜ë©´ \u003Ccode>url\u003C/code>, \u003Ccode>params\u003C/code>, \u003Ccode>onFetchComplete\u003C/code>, \u003Ccode>onError\u003C/code>\nì´ë ‡ê²Œ íŒŒë¼ë¯¸í„° ì—¬ëŸ¬ ê°œê°€ ì•„ë‹Œ íŒŒë¼ë¯¸í„°ë¡œ ë„˜ê²¨ì¤„ ì½œë°± í•˜ë‚˜ì—ì„œ ì „ë¶€ ì²˜ë¦¬ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.\u003C/p>\n\u003Cpre class=\"language-js\">\u003Ccode class=\"language-js code-highlight\">\u003Cspan class=\"code-line line-number\" line=\"1\">\u003Cspan class=\"token keyword\">const\u003C/span> searchWithAbortController \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">useCallback\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"2\">  \u003Cspan class=\"token keyword\">async\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">abortController\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token arrow operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"3\">    \u003Cspan class=\"token keyword control-flow\">try\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"4\">      \u003Cspan class=\"token keyword\">const\u003C/span> result \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword control-flow\">await\u003C/span> axios\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token method function property-access\">get\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">'/search'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"5\">        \u003Cspan class=\"token literal-property property\">signal\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> abortController\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token property-access\">signal\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"6\">      \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"7\">      \u003Cspan class=\"token comment\">// Handle result\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"8\">    \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token keyword control-flow\">catch\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>e\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"9\">      \u003Cspan class=\"token comment\">// Handle errors\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"10\">    \u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"11\">  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"12\">\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"13\">\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>search\u003Cspan class=\"token punctuation\">,\u003C/span> abortSearch\u003Cspan class=\"token punctuation\">]\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">useAbortController\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>searchWithAbortController\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>ì´ëŸ¬í•œ í›…ì€ ë‹¤ìŒê³¼ ê°™ì´ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì´ í›…ì˜ ì—­í• ì€ íŒŒë¼ë¯¸í„°ë¡œ ë°›ì€ ì½œë°±ì— \u003Ccode>AbortController\u003C/code>ë¥¼ ë°”ë¥´ëŠ” ê²Œ ë‹¤ì…ë‹ˆë‹¤.\ní›…ì„ í˜¸ì¶œí•˜ëŠ” ìª½ì— ì‘ë‹µê³¼ ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•˜ë„ë¡ ì—­í• ì„ ë„˜ê²¼ê¸° ë•Œë¬¸ì— í›…ì˜ ì½”ë“œê°€ êµ‰ì¥íˆ ê°„ê²°í•©ë‹ˆë‹¤.\ní•˜ì§€ë§Œ ë°˜ëŒ€ë¡œ í˜¸ì¶œí•˜ëŠ” ìª½ì˜ ì½”ë“œê°€ ë” ë³µì¡í•´ì§€ê² ì£ .\u003C/p>\n\u003Cpre class=\"language-js\">\u003Ccode class=\"language-js code-highlight\">\u003Cspan class=\"code-line line-number\" line=\"1\">\u003Cspan class=\"token keyword\">const\u003C/span> useAbortController \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">cb\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token arrow operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"2\">  \u003Cspan class=\"token keyword\">const\u003C/span> controllerRef \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">useRef\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">AbortController\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"3\">\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"4\">  \u003Cspan class=\"token keyword\">const\u003C/span> callback \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">useCallback\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token arrow operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"5\">    \u003Cspan class=\"token keyword\">const\u003C/span> controller \u003Cspan class=\"token operator\">=\u003C/span> controllerRef\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token property-access\">current\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"6\">    \u003Cspan class=\"token keyword control-flow\">return\u003C/span> \u003Cspan class=\"token function\">cb\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>controller\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"7\">  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>cb\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"8\">\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"9\">  \u003Cspan class=\"token keyword\">const\u003C/span> abort \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">useCallback\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token arrow operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"10\">    controllerRef\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token property-access\">current\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token method function property-access\">abort\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"11\">    controllerRef\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token property-access\">current\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">AbortController\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"12\">  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"13\">\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"14\">  \u003Cspan class=\"token keyword control-flow\">return\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>callback\u003Cspan class=\"token punctuation\">,\u003C/span> abort\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"15\">\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch2 id=\"7-íŒŒë¼ë¯¸í„°ì˜-ì½œë°±ì—-ë‹¤ë¥¸-ì¸ìë„-ì „ë‹¬í•˜ê¸°\">íŒŒë¼ë¯¸í„°ì˜ ì½œë°±ì— ë‹¤ë¥¸ ì¸ìë„ ì „ë‹¬í•˜ê¸°\u003C/h2>\n\u003Cp>ì—¬ê¸°ì„œ ë” ê³ ë„í™”ë¥¼ í•´ë³´ì£ . ì½œë°±ì´ \u003Ccode>AbortController\u003C/code> ë¿ ì•„ë‹ˆë¼\në‹¤ë¥¸ ì¸ìë„ ë°›ì„ ìˆ˜ ìˆìœ¼ë©´ ì–¼ë§ˆë‚˜ ì¢‹ì„ê¹Œìš”?\u003C/p>\n\u003Cpre class=\"language-js\">\u003Ccode class=\"language-js code-highlight\">\u003Cspan class=\"code-line line-number\" line=\"1\">\u003Cspan class=\"token keyword\">const\u003C/span> useAbortController \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">cb\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token arrow operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"2\">  \u003Cspan class=\"token keyword\">const\u003C/span> controllerRef \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">useRef\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">AbortController\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"3\">\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"4\">  \u003Cspan class=\"token keyword\">const\u003C/span> callback \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">useCallback\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">\u003Cspan class=\"token spread operator\">...\u003C/span>args\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token arrow operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"5\">    \u003Cspan class=\"token keyword\">const\u003C/span> controller \u003Cspan class=\"token operator\">=\u003C/span> controllerRef\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token property-access\">current\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"6\">    \u003Cspan class=\"token keyword control-flow\">return\u003C/span> \u003Cspan class=\"token function\">cb\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>controller\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token spread operator\">...\u003C/span>args\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"7\">  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>cb\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"8\">\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"9\">  \u003Cspan class=\"token keyword\">const\u003C/span> abort \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">useCallback\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token arrow operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"10\">    controllerRef\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token property-access\">current\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token method function property-access\">abort\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"11\">    controllerRef\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token property-access\">current\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">AbortController\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"12\">  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"13\">\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"14\">  \u003Cspan class=\"token keyword control-flow\">return\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>callback\u003Cspan class=\"token punctuation\">,\u003C/span> abort\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"15\">\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>ì´ëŸ¬í•œ íŒ¨í„´ì€ \u003Ccode>useAbortController\u003C/code> í›…ìœ¼ë¡œ ê°ì‹¸ê¸° ì „ì˜ ì›ë˜ í•¨ìˆ˜ì™€\níŒŒë¼ë¯¸í„°ê°€ ì¼ì¹˜í•˜ê¸° ë•Œë¬¸ì— í˜¸ì¶œ ì‹œ êµ‰ì¥íˆ í¸ë¦¬í•©ë‹ˆë‹¤.\u003C/p>\n\u003Cpre class=\"language-js\">\u003Ccode class=\"language-js code-highlight\">\u003Cspan class=\"code-line line-number\" line=\"1\">\u003Cspan class=\"token keyword\">const\u003C/span> searchWithAbortController \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">useCallback\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"2\">  \u003Cspan class=\"token keyword\">async\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">abortController\u003Cspan class=\"token punctuation\">,\u003C/span> keyword\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token arrow operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"3\">    \u003Cspan class=\"token keyword control-flow\">try\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"4\">      \u003Cspan class=\"token keyword\">const\u003C/span> result \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword control-flow\">await\u003C/span> axios\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token method function property-access\">get\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">'/search'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"5\">        \u003Cspan class=\"token literal-property property\">params\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>keyword\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"6\">        \u003Cspan class=\"token literal-property property\">signal\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> abortController\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token property-access\">signal\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"7\">      \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"8\">      \u003Cspan class=\"token comment\">// Handle result\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"9\">    \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token keyword control-flow\">catch\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>e\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"10\">      \u003Cspan class=\"token comment\">// Handle errors\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"11\">    \u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"12\">  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"13\">\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"14\">\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>search\u003Cspan class=\"token punctuation\">,\u003C/span> abortSearch\u003Cspan class=\"token punctuation\">]\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">useAbortController\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>searchWithAbortController\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"15\">\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"16\">\u003Cspan class=\"token comment\">// Like this. No need to care AbortController, just your arguments.\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"17\">\u003Cspan class=\"token function\">search\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">'keyword'\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>ë§Œì•½ \u003Ccode>AbortController\u003C/code>ê°€ íŒŒë¼ë¯¸í„°ì˜ ë§ˆì§€ë§‰ì— ì˜¤ê¸¸ ë°”ë€ë‹¤ë©´, ë‹¤ìŒê³¼ ê°™ì´ ë³´ë‚´ë©´ ë©ë‹ˆë‹¤.\u003C/p>\n\u003Cpre class=\"language-js\">\u003Ccode class=\"language-js code-highlight\">\u003Cspan class=\"code-line line-number\" line=\"1\">\u003Cspan class=\"token keyword\">const\u003C/span> useAbortController \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">cb\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token arrow operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"2\">  \u003Cspan class=\"token keyword\">const\u003C/span> controllerRef \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">useRef\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">AbortController\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"3\">\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"4\">  \u003Cspan class=\"token keyword\">const\u003C/span> callback \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">useCallback\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">\u003Cspan class=\"token spread operator\">...\u003C/span>args\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token arrow operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"5\">    \u003Cspan class=\"token keyword\">const\u003C/span> controller \u003Cspan class=\"token operator\">=\u003C/span> controllerRef\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token property-access\">current\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"6\">    \u003Cspan class=\"token keyword control-flow\">return\u003C/span> \u003Cspan class=\"token function\">cb\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token spread operator\">...\u003C/span>args\u003Cspan class=\"token punctuation\">,\u003C/span> controller\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"7\">  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>cb\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"8\">\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"9\">  \u003Cspan class=\"token keyword\">const\u003C/span> abort \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">useCallback\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token arrow operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"10\">    controllerRef\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token property-access\">current\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token method function property-access\">abort\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"11\">    controllerRef\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token property-access\">current\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">AbortController\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"12\">  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"13\">\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"14\">  \u003Cspan class=\"token keyword control-flow\">return\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>callback\u003Cspan class=\"token punctuation\">,\u003C/span> abort\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"15\">\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"16\">\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"17\">\u003Cspan class=\"token keyword\">const\u003C/span> searchWithAbortController \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">useCallback\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"18\">  \u003Cspan class=\"token keyword\">async\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">keyword\u003Cspan class=\"token punctuation\">,\u003C/span> abortController\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token arrow operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"19\">    \u003Cspan class=\"token keyword control-flow\">try\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"20\">      \u003Cspan class=\"token keyword\">const\u003C/span> result \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword control-flow\">await\u003C/span> axios\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token method function property-access\">get\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">'/search'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"21\">        \u003Cspan class=\"token literal-property property\">params\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>keyword\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"22\">        \u003Cspan class=\"token literal-property property\">signal\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> abortController\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token property-access\">signal\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"23\">      \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"24\">      \u003Cspan class=\"token comment\">// Handle result\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"25\">    \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token keyword control-flow\">catch\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>e\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"26\">      \u003Cspan class=\"token comment\">// Handle errors\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"27\">    \u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"28\">  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"8-Typescriptë¡œ-íƒ€ì´í•‘-í•˜ê¸°\">Typescriptë¡œ íƒ€ì´í•‘ í•˜ê¸°\u003C/h3>\n\u003Cp>ì´ì œ ì´ í›…ì„ ì–´ë–»ê²Œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¡œ ì§¤ ìˆ˜ ìˆì„ì§€ ë´…ì‹œë‹¤.\ncurrying í•¨ìˆ˜ ì‘ì„± ì‹œ íƒ€ì…ì´ Deprecated ë˜ì§€ ì•Šê²Œ í•˜ëŠ” ê²ƒì€ DXì— ì ì§€ ì•Šì€ ì˜í–¥ì„ ë¯¸ì¹©ë‹ˆë‹¤.\nì‹ ê²½ ì¨ì„œ ì‘ì„±í•˜ì§€ ì•Šìœ¼ë©´ currying í•¨ìˆ˜ì˜ íƒ€ì…ì€ ë‚ ë¼ê°€ê²Œ ë˜ì£ .\në‹¤ìŒ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ë´…ì‹œë‹¤.\në™ì‘ì€ í•˜ì§€ë§Œ ëª¨ë“  íƒ€ì…ì´ \u003Ccode>unknown\u003C/code>ì…ë‹ˆë‹¤. ì´ê±´ ì•„ë‹ˆì£ .\u003C/p>\n\u003Cpre class=\"language-ts\">\u003Ccode class=\"language-ts code-highlight\">\u003Cspan class=\"code-line line-number\" line=\"1\">\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token function-variable function\">useAbortController\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"2\">  \u003Cspan class=\"token function-variable function\">cb\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>controller\u003Cspan class=\"token operator\">:\u003C/span> AbortController\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token operator\">...\u003C/span>args\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token builtin\">unknown\u003C/span>\u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token builtin\">unknown\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"3\">\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"4\">  \u003Cspan class=\"token keyword\">const\u003C/span> controllerRef \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">useRef\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">AbortController\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"5\">\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"6\">  \u003Cspan class=\"token keyword\">const\u003C/span> callback \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">useCallback\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token operator\">...\u003C/span>cbArgs\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token builtin\">unknown\u003C/span>\u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"7\">    \u003Cspan class=\"token keyword\">const\u003C/span> controller \u003Cspan class=\"token operator\">=\u003C/span> controllerRef\u003Cspan class=\"token punctuation\">.\u003C/span>current\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"8\">    \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token function\">cb\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>controller\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token operator\">...\u003C/span>cbArgs\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"9\">  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>cb\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"10\">\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"11\">  \u003Cspan class=\"token keyword\">const\u003C/span> abort \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">useCallback\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"12\">    controllerRef\u003Cspan class=\"token punctuation\">.\u003C/span>current\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">abort\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"13\">    controllerRef\u003Cspan class=\"token punctuation\">.\u003C/span>current \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">AbortController\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"14\">  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"15\">\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"16\">  \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>callback\u003Cspan class=\"token punctuation\">,\u003C/span> abort\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"17\">\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>ì—¬ê¸°ì„œ í•„ìš”í•œ ê²ƒì€ \u003Cem>generics\u003C/em>ì…ë‹ˆë‹¤.\nì œë„¤ë¦­ íƒ€ì…ì„ í›…ì— ì¶”ê°€í•¨ìœ¼ë¡œì¨ ë¦¬í„´ í•˜ëŠ” í•¨ìˆ˜ëŠ” ìë™ìœ¼ë¡œ ìƒì„¸í•œ íƒ€ì…ì„ ê°€ì§€ê²Œ ë©ë‹ˆë‹¤.\u003C/p>\n\u003Cpre class=\"language-ts\">\u003Ccode class=\"language-ts code-highlight\">\u003Cspan class=\"code-line line-number\" line=\"1\">\u003Cspan class=\"token keyword\">const\u003C/span> useAbortController \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token operator\">&#x3C;\u003C/span>Args \u003Cspan class=\"token keyword\">extends\u003C/span> \u003Cspan class=\"token class-name\">\u003Cspan class=\"token builtin\">unknown\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> Ret\u003Cspan class=\"token operator\">>\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"2\">  \u003Cspan class=\"token punctuation\">(\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"3\">    \u003Cspan class=\"token function-variable function\">cb\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>controller\u003Cspan class=\"token operator\">:\u003C/span> AbortController\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token operator\">...\u003C/span>args\u003Cspan class=\"token operator\">:\u003C/span> Args\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> Ret\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"4\">  \u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"5\">  \u003Cspan class=\"token keyword\">const\u003C/span> controllerRef \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">useRef\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">AbortController\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"6\">\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"7\">  \u003Cspan class=\"token keyword\">const\u003C/span> callback \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">useCallback\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token operator\">...\u003C/span>cbArgs\u003Cspan class=\"token operator\">:\u003C/span> Args\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"8\">    \u003Cspan class=\"token keyword\">const\u003C/span> controller \u003Cspan class=\"token operator\">=\u003C/span> controllerRef\u003Cspan class=\"token punctuation\">.\u003C/span>current\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"9\">    \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token function\">cb\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>controller\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token operator\">...\u003C/span>cbArgs\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"10\">  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>cb\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"11\">\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"12\">  \u003Cspan class=\"token keyword\">const\u003C/span> abort \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">useCallback\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"13\">    controllerRef\u003Cspan class=\"token punctuation\">.\u003C/span>current\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">abort\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"14\">    controllerRef\u003Cspan class=\"token punctuation\">.\u003C/span>current \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">AbortController\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"15\">  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"16\">\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"17\">  \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>callback\u003Cspan class=\"token punctuation\">,\u003C/span> abort\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"18\">\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>ì´ì œ ë…¸ì¶œë˜ëŠ” ì½œë°± íŒŒë¼ë¯¸í„°ëŠ” ìì„¸í•œ íƒ€ì…ì„ ê°€ì§€ê²Œ ë˜ë‚˜ í•¨ìˆ˜ ìì²´ì˜ íƒ€ì´í•‘ì€\nëª¨í˜¸í•œë°ìš”.\nì´ í›…ì˜ ë¦¬í„´ íƒ€ì…ì´ ë¬´ì—‡ì¸ì§€ ëª…ì‹œí•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\u003C/p>\n\u003Cp>\u003Cimg src=\"/img/2023-10-26-en-useAbortController-hook/useAbortController-typescript-1.png\" alt=\"useAbortController-typescript-wrong-types\">\u003C/p>\n\u003Cp>\u003Cimg src=\"/img/2023-10-26-en-useAbortController-hook/useAbortController-typescript-2.png\" alt=\"useAbortController-typescript-wrong-types\">\u003C/p>\n\u003Cp>ë‹¤ìŒê³¼ ê°™ì´ ìƒì„¸í•œ íƒ€ì…ì„ ì¤Œìœ¼ë¡œì¨ í•´ê²°í•˜ê±°ë‚˜,\u003C/p>\n\u003Cpre class=\"language-ts\">\u003Ccode class=\"language-ts code-highlight\">\u003Cspan class=\"code-line line-number\" line=\"1\">\u003Cspan class=\"token keyword\">const\u003C/span> useAbortController \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token operator\">&#x3C;\u003C/span>Args \u003Cspan class=\"token keyword\">extends\u003C/span> \u003Cspan class=\"token class-name\">\u003Cspan class=\"token builtin\">unknown\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> Ret\u003Cspan class=\"token operator\">>\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"2\">  \u003Cspan class=\"token punctuation\">(\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"3\">    \u003Cspan class=\"token function-variable function\">cb\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>controller\u003Cspan class=\"token operator\">:\u003C/span> AbortController\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token operator\">...\u003C/span>args\u003Cspan class=\"token operator\">:\u003C/span> Args\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> Ret\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"4\">  \u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token function-variable function\">callback\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token operator\">...\u003C/span>args\u003Cspan class=\"token operator\">:\u003C/span> Args\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> Ret\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token function-variable function\">abortCallback\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token keyword\">void\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>ë¦¬í„´í•˜ëŠ” ì½œë°± ì–´ë ˆì´ì— \u003Ccode>as const\u003C/code>ë¥¼ ì¤˜ì„œ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003C/p>\n\u003Cpre class=\"language-ts\">\u003Ccode class=\"language-ts code-highlight\">\u003Cspan class=\"code-line line-number\" line=\"1\">  \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>callback\u003Cspan class=\"token punctuation\">,\u003C/span> abort\u003Cspan class=\"token punctuation\">]\u003C/span> \u003Cspan class=\"token keyword\">as\u003C/span> \u003Cspan class=\"token keyword\">const\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>ì´ì œ ì½œë°±ì€ ìì„¸í•œ íƒ€ì…ì„ ê°–ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.  :)\u003C/p>\n\u003Cp>ë§Œì•½ í›…ì—ì„œ \u003Ccode>AbortController\u003C/code>ê°€ ë§ˆì§€ë§‰ íŒŒë¼ë¯¸í„°ë¡œ ì˜¤ê²Œ ë§Œë“¤ê³  ì‹¶ë‹¤ë©´\níƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¡œ ì‘ì„±í•˜ê¸´ ê¹Œë‹¤ë¡­ê¸´ í•˜ë‚˜ 100% ê°€ëŠ¥í•©ë‹ˆë‹¤.\u003C/p>\n\u003Cpre class=\"language-ts\">\u003Ccode class=\"language-ts code-highlight\">\u003Cspan class=\"code-line line-number\" line=\"1\">\u003Cspan class=\"token keyword\">type\u003C/span> \u003Cspan class=\"token class-name\">ArgsWithController\u003Cspan class=\"token operator\">&#x3C;\u003C/span>\u003Cspan class=\"token constant\">T\u003C/span> \u003Cspan class=\"token keyword\">extends\u003C/span> \u003Cspan class=\"token builtin\">unknown\u003C/span>\u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token operator\">>\u003C/span>\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token operator\">...\u003C/span>\u003Cspan class=\"token constant\">T\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> AbortController\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"2\">\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"3\">\u003Cspan class=\"token keyword\">const\u003C/span> useAbortController \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token operator\">&#x3C;\u003C/span>Args \u003Cspan class=\"token keyword\">extends\u003C/span> \u003Cspan class=\"token class-name\">\u003Cspan class=\"token builtin\">unknown\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> Ret\u003Cspan class=\"token operator\">>\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"4\">  \u003Cspan class=\"token punctuation\">(\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"5\">    \u003Cspan class=\"token function-variable function\">cb\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token operator\">...\u003C/span>args\u003Cspan class=\"token operator\">:\u003C/span> ArgsWithController\u003Cspan class=\"token operator\">&#x3C;\u003C/span>Args\u003Cspan class=\"token operator\">>\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> Ret\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"6\">  \u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token function-variable function\">callback\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token operator\">...\u003C/span>args\u003Cspan class=\"token operator\">:\u003C/span> Args\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> Ret\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token function-variable function\">abortCallback\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token keyword\">void\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"7\">  \u003Cspan class=\"token keyword\">const\u003C/span> controllerRef \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">useRef\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">AbortController\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"8\">\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"9\">  \u003Cspan class=\"token keyword\">const\u003C/span> callback \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">useCallback\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token operator\">...\u003C/span>cbArgs\u003Cspan class=\"token operator\">:\u003C/span> Args\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"10\">    \u003Cspan class=\"token keyword\">const\u003C/span> controller \u003Cspan class=\"token operator\">=\u003C/span> controllerRef\u003Cspan class=\"token punctuation\">.\u003C/span>current\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"11\">    \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token function\">cb\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token operator\">...\u003C/span>cbArgs\u003Cspan class=\"token punctuation\">,\u003C/span> controller\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"12\">  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>cb\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"13\">\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"14\">  \u003Cspan class=\"token keyword\">const\u003C/span> abort \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">useCallback\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"15\">    controllerRef\u003Cspan class=\"token punctuation\">.\u003C/span>current\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">abort\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"16\">    controllerRef\u003Cspan class=\"token punctuation\">.\u003C/span>current \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">AbortController\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"17\">  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"18\">\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"19\">  \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>callback\u003Cspan class=\"token punctuation\">,\u003C/span> abort\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003Cspan class=\"code-line line-number\" line=\"20\">\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ê°œë°œìë¥¼ ë•ê¸° ìœ„í•´ íƒ„ìƒí•œ ì–¸ì–´ë¼ëŠ” ê²ƒì„ ë§ì”€ ë“œë¦¬ê³  ì‹¶ìŠµë‹ˆë‹¤.\në§Œì•½ ê°™ì€ ë¡œì§ì„ ì¬í™œìš©í•  ì¼ì´ ì—†ê±°ë‚˜, íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ ê·¸ë‹¤ì§€ ìœ ìš©í•˜ë‹¤ê³  ëŠë¼ì§€ ì•ŠëŠ”ë‹¤ë©´\níƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ê´œì°®ìŠµë‹ˆë‹¤.\ní•˜ì§€ë§Œ ìƒì„¸í•œ íƒ€ì´í•‘ê³¼ í•¨ê»˜ í•œë²ˆ ì‘ì„±ëœ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œëŠ” ì—¬ëŸ¬ë¶„ì„ ì—¬ëŸ¬ ë²ˆ êµ¬í•  ê²ƒì…ë‹ˆë‹¤.\u003C/p>",frontmatter:{toc:true,title:"useAbortController í›…",category:["Programming"],tags:["web","react","javascript","typescript"],author:["ì´í˜„ì¬"]},date:"2023-10-26",lang:"ko",id:"10-26-ko-useAbortController-hook",tocData:[{depth:1,id:"1-useEffect-ë‚´-AbortController",text:"useEffect ë‚´ AbortController"},{depth:1,id:"2-AbortController-ì»¤ìŠ¤í…€-í›…ìœ¼ë¡œ-ë§Œë“¤ê¸°",text:"AbortController ì»¤ìŠ¤í…€ í›…ìœ¼ë¡œ ë§Œë“¤ê¸°"},{depth:1,id:"3-ë”-ê³ ë„í™”ëœ-AbortController-ì»¤ìŠ¤í…€-í›…-ë§Œë“¤ê¸°",text:"ë” ê³ ë„í™”ëœ AbortController ì»¤ìŠ¤í…€ í›… ë§Œë“¤ê¸°"},{depth:2,id:"4-ì½œë°±ê³¼-Abort-í•¨ìˆ˜ë¥¼-ë¦¬í„´í•˜ê¸°",text:"ì½œë°±ê³¼ Abort í•¨ìˆ˜ë¥¼ ë¦¬í„´í•˜ê¸°"},{depth:2,id:"5-useRefë¡œ-AbortController-ê´€ë¦¬í•˜ê¸°",text:"useRefë¡œ AbortController ê´€ë¦¬í•˜ê¸°"},{depth:1,id:"6-AbortControllerë¥¼-ì½œë°±ì˜-íŒŒë¼ë¯¸í„°ë¡œ-ì „ë‹¬í•˜ê¸°",text:"AbortControllerë¥¼ ì½œë°±ì˜ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬í•˜ê¸°"},{depth:2,id:"7-íŒŒë¼ë¯¸í„°ì˜-ì½œë°±ì—-ë‹¤ë¥¸-ì¸ìë„-ì „ë‹¬í•˜ê¸°",text:"íŒŒë¼ë¯¸í„°ì˜ ì½œë°±ì— ë‹¤ë¥¸ ì¸ìë„ ì „ë‹¬í•˜ê¸°"},{depth:3,id:"8-Typescriptë¡œ-íƒ€ì´í•‘-í•˜ê¸°",text:"Typescriptë¡œ íƒ€ì´í•‘ í•˜ê¸°"}],langs:["ko","en"]},"uses":{"params":["year","slug"]}}];

					Promise.all([
						import("../../../_app/immutable/entry/start.7b02dd09.js"),
						import("../../../_app/immutable/entry/app.beba005d.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 5],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
